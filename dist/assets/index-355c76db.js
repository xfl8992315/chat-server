import{d as $e,c as V,u as Mn,r as Nn,_ as Fn,bm as Zo,n as Kr,a as Ge,k as Rr,B as ro,b as Lr,g as we,e as fe,aV as ei,o as Kn,f as Z,l as ni,m as ao,aq as ti,i as Qn,x as Tn,s as $t,I as Xn,bn as oo,bo as io,af as Jn,z as $r,aH as Lt,y as ri,ag as ai,bp as oi,aT as Ca,G as Wt,a8 as Ye,bq as ii,D as Ht,a5 as qr,E as Vr,aY as ui,ab as Ut,A as uo,a4 as lo,br as Ar,bs as co,w as Gt,b4 as li,aA as so,az as ci,aB as si,aC as fi,b8 as di,h as vi,aG as hi,H as pi,a2 as Br,a6 as Dr,bt as mi,bh as yi,bi as gi,X as jr,v as fo,ax as bi,bk as wi,bu as _i,bv as Oi,bl as Ci,bw as ki}from"./index-297b177e.js";/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function xi(o,a){if(o==null)return{};var u={};for(var c in o)if({}.hasOwnProperty.call(o,c)){if(a.includes(c))continue;u[c]=o[c]}return u}function Pi(o,a){if(o==null)return{};var u,c,m=xi(o,a);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(o);for(c=0;c<k.length;c++)u=k[c],a.includes(u)||{}.propertyIsEnumerable.call(o,u)&&(m[u]=o[u])}return m}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Si(o){return o===void 0}var vo=Si;function ka(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function xa(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?ka(Object(u),!0).forEach(function(c){Fn(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):ka(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Ei={tag:"svg",attrs:{fill:"none",viewBox:"0 0 26 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M4 1.59l6.17 6.17 7.07 7.07L23.41 21 22 22.41l-2.97-2.96A12.5 12.5 0 011.08 12.3L1 12l.1-.3c.77-2.4 2.24-4.5 4.18-6.02L2.59 3 4 1.59zM6.7 7.1A10.53 10.53 0 003.1 12a10.5 10.5 0 0014.45 5.97l-1.8-1.8a5 5 0 01-6.93-6.93L6.7 7.11zm3.6 3.6a3 3 0 004 4l-4-4zM13 5c-.58 0-1.14.05-1.7.14l-.98.16L10 3.32l.99-.16A12.5 12.5 0 0124.9 11.7l.1.31-.1.3c-.41 1.3-1.03 2.5-1.82 3.58l-.59.8-1.61-1.18.59-.8c.6-.82 1.08-1.73 1.42-2.7A10.5 10.5 0 0013 5zm.51 1.93l.96.29a5 5 0 013.31 3.31l.3.96-1.92.58-.3-.95a3 3 0 00-1.98-1.99l-.95-.3.58-1.9z"}}]},ji=$e({name:"BrowseOffIcon",props:{size:{type:String},onClick:{type:Function}},setup(o,a){var{attrs:u}=a,c=V(()=>o.size),{className:m,style:k}=Mn(c),P=V(()=>["t-icon","t-icon-browse-off",m.value]),S=V(()=>xa(xa({},k.value),u.style)),D=V(()=>({class:P.value,style:S.value,onClick:B=>{var E;return(E=o.onClick)===null||E===void 0?void 0:E.call(o,{e:B})}}));return()=>Nn(Ei,D.value)}});const Ii=ji;function Pa(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Sa(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Pa(Object(u),!0).forEach(function(c){Fn(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Pa(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Ai={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"g",attrs:{clipPath:"url(#clip0_8726_7319)"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M2.1 12a10.5 10.5 0 0019.8 0 10.5 10.5 0 00-19.8 0zm-2.01-.3a12.5 12.5 0 0123.82 0l.1.3-.1.3a12.5 12.5 0 01-23.82 0l-.1-.3.1-.3zM12 9a3 3 0 100 6 3 3 0 000-6zm-5 3a5 5 0 1110 0 5 5 0 01-10 0z"}}]}]},Bi=$e({name:"BrowseIcon",props:{size:{type:String},onClick:{type:Function}},setup(o,a){var{attrs:u}=a,c=V(()=>o.size),{className:m,style:k}=Mn(c),P=V(()=>["t-icon","t-icon-browse",m.value]),S=V(()=>Sa(Sa({},k.value),u.style)),D=V(()=>({class:P.value,style:S.value,onClick:B=>{var E;return(E=o.onClick)===null||E===void 0?void 0:E.call(o,{e:B})}}));return()=>Nn(Ai,D.value)}});const Di=Bi;function Ea(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function ja(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Ea(Object(u),!0).forEach(function(c){Fn(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Ea(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Ti={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM7.5 10.59l3 3 6-6L17.91 9l-7.41 7.41L6.09 12l1.41-1.41z"}}]},Mi=$e({name:"CheckCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(o,a){var{attrs:u}=a,c=V(()=>o.size),{className:m,style:k}=Mn(c),P=V(()=>["t-icon","t-icon-check-circle-filled",m.value]),S=V(()=>ja(ja({},k.value),u.style)),D=V(()=>({class:P.value,style:S.value,onClick:B=>{var E;return(E=o.onClick)===null||E===void 0?void 0:E.call(o,{e:B})}}));return()=>Nn(Ti,D.value)}});const ho=Mi;function Ia(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Aa(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Ia(Object(u),!0).forEach(function(c){Fn(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Ia(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Ni={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM8.82 7.4L12 10.6l3.18-3.19 1.42 1.42L13.4 12l3.19 3.18-1.42 1.42L12 13.4 8.82 16.6 7.4 15.18 10.6 12 7.4 8.82 8.82 7.4z"}}]},Fi=$e({name:"CloseCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(o,a){var{attrs:u}=a,c=V(()=>o.size),{className:m,style:k}=Mn(c),P=V(()=>["t-icon","t-icon-close-circle-filled",m.value]),S=V(()=>Aa(Aa({},k.value),u.style)),D=V(()=>({class:P.value,style:S.value,onClick:B=>{var E;return(E=o.onClick)===null||E===void 0?void 0:E.call(o,{e:B})}}));return()=>Nn(Ni,D.value)}});const Ki=Fi;function Ba(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Da(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Ba(Object(u),!0).forEach(function(c){Fn(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Ba(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Ri={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 1a11 11 0 110 22 11 11 0 010-22zm-1 13h2V6.5h-2V14zm2 1.5h-2v2h2v-2z"}}]},Li=$e({name:"ErrorCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(o,a){var{attrs:u}=a,c=V(()=>o.size),{className:m,style:k}=Mn(c),P=V(()=>["t-icon","t-icon-error-circle-filled",m.value]),S=V(()=>Da(Da({},k.value),u.style)),D=V(()=>({class:P.value,style:S.value,onClick:B=>{var E;return(E=o.onClick)===null||E===void 0?void 0:E.call(o,{e:B})}}));return()=>Nn(Ri,D.value)}});const po=Li;function Ta(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Ma(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Ta(Object(u),!0).forEach(function(c){Fn(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Ta(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var $i={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zm-.17-11.11c.43-.53.97-.97 1.4-1.32A2 2 0 0012 7a2 2 0 00-1.89 1.33l-.33.95L7.9 8.6l.34-.94a4 4 0 116.24 4.47 7 7 0 00-1.1 1.01c-.27.34-.37.61-.37.85v1.25h-2V14c0-.87.39-1.57.83-2.11zM11 18.25v-2h2v2h-2z"}}]},qi=$e({name:"HelpCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(o,a){var{attrs:u}=a,c=V(()=>o.size),{className:m,style:k}=Mn(c),P=V(()=>["t-icon","t-icon-help-circle-filled",m.value]),S=V(()=>Ma(Ma({},k.value),u.style)),D=V(()=>({class:P.value,style:S.value,onClick:B=>{var E;return(E=o.onClick)===null||E===void 0?void 0:E.call(o,{e:B})}}));return()=>Nn($i,D.value)}});const Vi=qi;function Na(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Fa(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Na(Object(u),!0).forEach(function(c){Fn(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Na(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var zi={tag:"svg",attrs:{fill:"none",viewBox:"0 0 24 24",width:"1em",height:"1em"},children:[{tag:"path",attrs:{fill:"currentColor",d:"M12 23a11 11 0 100-22 11 11 0 000 22zM11 8.5v-2h2v2h-2zm2 1.5v7.5h-2V10h2z"}}]},Wi=$e({name:"InfoCircleFilledIcon",props:{size:{type:String},onClick:{type:Function}},setup(o,a){var{attrs:u}=a,c=V(()=>o.size),{className:m,style:k}=Mn(c),P=V(()=>["t-icon","t-icon-info-circle-filled",m.value]),S=V(()=>Fa(Fa({},k.value),u.style)),D=V(()=>({class:P.value,style:S.value,onClick:B=>{var E;return(E=o.onClick)===null||E===void 0?void 0:E.call(o,{e:B})}}));return()=>Nn(zi,D.value)}});const mo=Wi;/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Hi(){var o=Kr();return function(a,u){var c,m;u||(u=o.slots);var k=((c=u)===null||c===void 0||(m=c.default)===null||m===void 0?void 0:m.call(c))||[];return Zo(k).filter(function(P){var S;return(S=P.type.name)===null||S===void 0?void 0:S.endsWith(a)})}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Ui=["info","success","warning","error","question","loading"],Ue="32px",yo={top:{top:Ue,left:"50%",transform:"translateX(-50%)"},center:{left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"},left:{left:Ue,top:"50%",transform:"translateY(-50%)"},bottom:{bottom:Ue,left:"50%",transform:"translateX(-50%)"},right:{right:Ue,top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",alignItems:"flex-end"},"top-left":{left:Ue,top:Ue},"top-right":{right:Ue,top:Ue,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-right":{right:Ue,bottom:Ue,display:"flex",flexDirection:"column",alignItems:"flex-end"},"bottom-left":{left:Ue,bottom:Ue}},go=Object.keys(yo);/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Gi={closeBtn:{type:[String,Boolean,Function],default:void 0},content:{type:[String,Function]},duration:{type:Number,default:3e3},icon:{type:[Boolean,Function],default:!0},theme:{type:String,default:"info",validator:function(a){return a?["info","success","warning","error","question","loading"].includes(a):!0}},onClose:Function,onCloseBtnClick:Function,onDurationEnd:Function};/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var bo={duration:200,easing:"linear"};function Yi(o,a){if(o){var u=(o==null?void 0:o.offsetWidth)||0,c=(o==null?void 0:o.offsetHeight)||0,m=Ji(a,u,c);if(m){var k=m[m.length-1];wo(o,k),o.animate&&o.animate(m,bo)}}}function Xi(o,a,u){if(o){var c=(o==null?void 0:o.offsetHeight)||0,m=Qi(a,c);if(!m)return u();var k=m[m.length-1];wo(o,k);var P=o.animate&&o.animate(m,bo);P?P.onfinish=function(){o.style.display="none",u()}:(o.style.display="none",u())}}function wo(o,a){for(var u=Object.keys(a),c=0;c<u.length;c+=1){var m=u[c];o.style[m]=a[m]}}function Ji(o,a,u){if(!go.includes(o))return null;if(["top-left","left","bottom-left"].includes(o))return[{opacity:0,marginLeft:"-".concat(a,"px")},{opacity:1,marginLeft:"0"}];if(["top-right","right","bottom-right"].includes(o))return[{opacity:0,marginRight:"-".concat(a,"px")},{opacity:1,marginRight:"0"}];if(["top","center"].includes(o))return[{opacity:0,marginTop:"-".concat(u,"px")},{opacity:1,marginTop:"0"}];if(["bottom"].includes(o))return[{opacity:0,transform:"translate3d(0, ".concat(u,"px, 0)")},{opacity:1,transform:"translate3d(0, 0, 0)"}]}function Qi(o,a){if(!go.includes(o))return null;if(["bottom-left","bottom","bottom-right"].includes(o)){var u="".concat(a,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:u}]}var c="-".concat(a,"px");return[{opacity:1,marginTop:"0px"},{opacity:0,marginTop:c}]}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Ka(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Ra(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Ka(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Ka(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Zi=$e({name:"TMessage",props:Ra(Ra({},Gi),{},{placement:String}),setup:function(a,u){var c=u.slots,m=u.expose,k=Ge("message"),P=Rr({InfoCircleFilledIcon:mo,CheckCircleFilledIcon:ho,ErrorCircleFilledIcon:po,HelpCircleFilledIcon:Vi,CloseIcon:ro}),S=P.InfoCircleFilledIcon,D=P.CheckCircleFilledIcon,B=P.ErrorCircleFilledIcon,E=P.HelpCircleFilledIcon,T=P.CloseIcon,I=Ge(),A=Qn(),W=Lr(),q=we(null),ee=we(null),ye=V(function(){var z={};return Ui.forEach(function(X){return z["".concat(I.value,"-is-").concat(X)]=a.theme===X}),[k.value,z,fe({},"".concat(I.value,"-is-closable"),a.closeBtn||c.closeBtn)]}),ae=function(X){var Q,de;(Q=a.onClose)===null||Q===void 0||Q.call(a,{trigger:"close-click",e:X}),(de=a.onCloseBtnClick)===null||de===void 0||de.call(a,{e:X})},_e=function(){a.duration&&clearTimeout(ee.value)},ve=function(){a.duration&&(ee.value=Number(setTimeout(function(){_e();var X=q.value;Xi(X,a.placement,function(){var Q,de;(Q=a.onClose)===null||Q===void 0||Q.call(a,{trigger:"duration-end"}),(de=a.onDurationEnd)===null||de===void 0||de.call(a)})},a.duration)))},Te=function(){var X=Z(T,null,null);return Z("span",{class:"".concat(k.value,"__close"),onClick:ae},[A("closeBtn",X)])},be=function(){if(a.icon!==!1){if(ni(a.icon))return a.icon(ao);if(c.icon)return c.icon(null);var X={info:S,success:D,warning:B,error:B,question:E,loading:ti}[a.theme];return Z(X,null,null)}};return ei(function(){a.duration&&ve()}),Kn(function(){var z=q.value;Yi(z,a.placement)}),m({close:ae}),function(){return Z("div",{ref:q,class:ye.value,onMouseenter:_e,onMouseleave:ve},[be(),W("content","default"),Te()])}}});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function La(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Gn(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?La(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):La(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Tr=6e3,eu=function(){var o=0;return function(){return o+=1,o}}(),nu=$e({name:"TMessageList",props:{zIndex:{type:Number,default:0},placement:{type:String,default:""}},setup:function(a,u){var c=u.expose,m=Ge("message__list"),k=we([]),P=we([]),S=V(function(){return Gn(Gn({},yo[a.placement]),{},{zIndex:a.zIndex!==Tr?a.zIndex:Tr})}),D=function(ee){var ye=Gn(Gn({},ee),{},{key:eu()});return k.value.push(ye),ye.key},B=function(ee){k.value.splice(ee,1)},E=function(){k.value=[]},T=function(ee){if(ee)return isNaN(Number(ee))?ee:"".concat(ee,"px")},I=function(ee){return ee.offset&&{position:"relative",left:T(ee.offset[0]),top:T(ee.offset[1])}},A=function(ee,ye){return Gn(Gn({},ye),{},{onCloseBtnClick:function(_e){return ye.onCloseBtnClick&&ye.onCloseBtnClick(_e),B(ee)},onDurationEnd:function(){return ye.onDurationEnd&&ye.onDurationEnd(),B(ee)}})},W=function(ee){ee&&P.value.push(ee)};return c({add:D,removeAll:E,list:k,messageList:P}),function(){if(k.value.length)return Z("div",{class:m.value,style:S.value},[k.value.map(function(q,ee){return Z(Zi,Tn({key:q.key,style:I(q),ref:W},A(ee,q)),null)})])}}});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function $a(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Mr(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?$a(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):$a(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Dn=new Map;function tu(o){var a=Mr({duration:3e3,attach:"body",zIndex:Tr,placement:"top"},o);return a.content=o.content,a}var ru=function(a){var u=tu(a),c=u.attach,m=u.placement,k=oo(c);Dn.get(k)||Dn.set(k,{});var P=Dn.get(k)[m],S;if(P)S=P.add(u);else{var D=document.createElement("div"),B=io(nu,{zIndex:u.zIndex,placement:u.placement}).mount(D);S=B.add(u),Dn.get(k)[m]=B,k.appendChild(D)}return new Promise(function(E){var T=Dn.get(k)[m];Jn(function(){var I=T.messageList;E(I==null?void 0:I.find(function(A){var W;return((W=A.$)===null||W===void 0||(W=W.vnode)===null||W===void 0?void 0:W.key)===S}))})})},_n=function(a,u,c){var m={theme:a};return $t(u)?m.content=u:Xn(u)&&!(u instanceof Array)&&(m=Mr(Mr({},m),u)),(c||c===0)&&(m.duration=c),ru(m)},Vt={info:function(a,u){return _n("info",a,u)},success:function(a,u){return _n("success",a,u)},warning:function(a,u){return _n("warning",a,u)},error:function(a,u){return _n("error",a,u)},question:function(a,u){return _n("question",a,u)},loading:function(a,u){return _n("loading",a,u)},close:function(a){a.then(function(u){return u==null?void 0:u.close()})},closeAll:function(){Dn instanceof Map&&Dn.forEach(function(a){Object.keys(a).forEach(function(u){var c=a[u];c.list=[]})})}},_o=_n;_o.install=function(o){o.config.globalProperties.$message=_n,Object.keys(Vt).forEach(function(a){o.config.globalProperties.$message[a]=Vt[a]})};Object.keys(Vt).forEach(function(o){_o[o]=Vt[o]});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var au={align:{type:String,default:"left",validator:function(a){return a?["left","center","right"].includes(a):!0}},allowInputOverMax:Boolean,autoWidth:Boolean,autocomplete:{type:String,default:void 0},autofocus:Boolean,borderless:Boolean,clearable:Boolean,disabled:{type:Boolean,default:void 0},format:{type:Function},inputClass:{type:[String,Object,Array]},label:{type:[String,Function]},maxcharacter:{type:Number},maxlength:{type:[String,Number]},name:{type:String,default:""},placeholder:{type:String,default:void 0},prefixIcon:{type:Function},readonly:{type:Boolean,default:void 0},showClearIconOnEmpty:Boolean,showLimitNumber:Boolean,size:{type:String,default:"medium",validator:function(a){return a?["small","medium","large"].includes(a):!0}},spellCheck:Boolean,status:{type:String,default:void 0,validator:function(a){return a?["default","success","warning","error"].includes(a):!0}},suffix:{type:[String,Function]},suffixIcon:{type:Function},tips:{type:[String,Function]},type:{type:String,default:"text",validator:function(a){return a?["text","number","url","tel","password","search","submit","hidden"].includes(a):!0}},value:{type:[String,Number],default:void 0},modelValue:{type:[String,Number],default:void 0},defaultValue:{type:[String,Number]},onBlur:Function,onChange:Function,onClear:Function,onClick:Function,onCompositionend:Function,onCompositionstart:Function,onEnter:Function,onFocus:Function,onKeydown:Function,onKeypress:Function,onKeyup:Function,onMouseenter:Function,onMouseleave:Function,onPaste:Function,onValidate:Function,onWheel:Function};/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Oo(o){var a=Kr(),u=V(function(){return a.props.readonly}),c=$r("formReadonly",Object.create(null));return V(function(){var m,k,P;return Lt(o==null||(m=o.beforeReadonly)===null||m===void 0?void 0:m.value)?o.beforeReadonly.value:Lt(u==null?void 0:u.value)?u.value:Lt(o==null||(k=o.afterReadonly)===null||k===void 0?void 0:k.value)?o.afterReadonly.value:Lt((P=c.readonly)===null||P===void 0?void 0:P.value)?c.readonly.value:!1})}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var ou=Symbol("FormItemProvide");/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function iu(o){var a=function(S){var D=o.value,B=D.allowInputOverMax,E=D.maxlength,T=D.maxcharacter;if(!(E||T)||B||!S)return S;if(E)return ii(S,E);if(T){var I=Ca(S,T);if(Xn(I))return I.characters}},u=V(function(){var P=o.value,S=P.maxlength,D=P.maxcharacter,B=P.value;if(ri(B))return String(B);if(S&&D&&ai.warn("Input","Pick one of maxlength and maxcharacter please."),S){var E=B!=null&&B.length?oi(B):0;return"".concat(E,"/").concat(S)}return D?"".concat(Ca(B||""),"/").concat(D):""}),c=V(function(){if(u.value){var P=u.value.split("/"),S=Wt(P,2),D=S[0],B=S[1];return Number(D)>Number(B)?"error":""}return""}),m=V(function(){var P=o.value.status;return P||c.value}),k=function(){var S,D;(S=(D=o.value).onValidate)===null||S===void 0||S.call(D,{error:c.value?"exceed-maximum":void 0})};return Ye(c,k),Kn(function(){c.value&&k()}),{tStatus:m,limitNumber:u,getValueByLimitNumber:a}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function qt(o,a){return a==="number"?o||o===0?Number(o):void 0:o}function uu(o,a){var u=Ht(o),c=u.value,m=u.modelValue,k=we(),P=we(!1),S=we(),D=we(null),B=we(),E=qr(),T=Vr(c,m,o.defaultValue,o.onChange),I=Wt(T,2),A=I[0],W=I[1],q=we(!1),ee=we(!1),ye=we(o.type),ae=we(null),_e=V(function(){return{value:[void 0,null].includes(A.value)?void 0:String(A.value),status:o.status,maxlength:Number(o.maxlength),maxcharacter:o.maxcharacter,allowInputOverMax:o.allowInputOverMax,onValidate:o.onValidate}}),ve=iu(_e),Te=ve.limitNumber,be=ve.getValueByLimitNumber,z=ve.tStatus,X=V(function(){return(A.value&&!E.value&&o.clearable&&!o.readonly||o.showClearIconOnEmpty)&&q.value}),Q=function(){var Y;ee.value=!0,(Y=ae.value)===null||Y===void 0||Y.focus()},de=function(){var Y;ee.value=!1,(Y=ae.value)===null||Y===void 0||Y.blur()},oe=function(Y){var H;q.value&&ee.value||(k.value=A.value,!o.disabled&&(ee.value=!0,(H=o.onFocus)===null||H===void 0||H.call(o,A.value,{e:Y})))},Ne=function(Y){var H,ce=Y.e,qe=o.type==="number"?void 0:"";W(qe,{e:ce,trigger:"clear"}),(H=o.onClear)===null||H===void 0||H.call(o,{e:ce})},Ie=function(Y){B.value=Y.target},Xe=function(){if(!E.value){var Y=ye.value==="password"?"text":"password";ye.value=Y}},We=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",H=ae.value;if(H){var ce=String(Y);H.value&&H.value!==ce&&(H.value=ce)}},Ce=function(Y){var H,ce=Y.target,qe=ce.value;o.type!=="number"&&typeof A.value=="string"&&qe.length>((H=A.value)===null||H===void 0?void 0:H.length)&&(qe=be(qe)),W(qt(qe,o.type),{e:Y,trigger:"input"}),Jn(function(){We(A.value)})},Ae=function(Y){var H=Y.inputType&&Y.inputType==="insertCompositionText",ce=Y.currentTarget.value;if(H||P.value){S.value=ce;return}Ce(Y)},Se=function(){var Y,H=B.value;if(!H||!H.tagName||!((Y=D.value)!==null&&Y!==void 0&&Y.$el)||!["path","svg"].includes(H.tagName))return!1;for(;H;){var ce;if(((ce=D.value)===null||ce===void 0?void 0:ce.$el)===H)return!0;H=H.parentNode}return!1},ke=$r(ou,void 0),Me=function(Y){if(Se())Q();else{var H;o.format&&(k.value=typeof A.value=="number"||o.type==="number"?A.value:o.format(A.value)),ee.value=!1,(H=o.onBlur)===null||H===void 0||H.call(o,A.value,{e:Y}),ke==null||ke.handleBlur()}},en=function(Y){var H;P.value=!1,S.value="",Ce(Y),(H=o.onCompositionend)===null||H===void 0||H.call(o,String(A.value),{e:Y})},On=function(Y){var H;P.value=!0;var ce=Y.currentTarget.value;S.value=ce,(H=o.onCompositionstart)===null||H===void 0||H.call(o,String(A.value),{e:Y})},Ve=function(Y){var H,ce;(H=ae.value)===null||H===void 0||H.focus(),(ce=o.onClick)===null||ce===void 0||ce.call(o,{e:Y})};return Ye(function(){return o.autofocus},function(ne){ne===!0&&Jn(function(){var Y;(Y=ae.value)===null||Y===void 0||Y.focus()})},{immediate:!0}),Ye(A,function(ne,Y){var H=o.type==="number";Y===void 0&&o.format&&typeof ne!="number"&&!H?k.value=o.format(ne):k.value=ne;var ce=typeof ne=="number"?ne:be(ne);ce!==ne&&!H&&W(ce,{trigger:"initial"})},{immediate:!0}),Ye(function(){return o.type},function(ne){ye.value=ne},{immediate:!0}),a({inputRef:ae,focus:Q,blur:de}),{isHover:q,focused:ee,renderType:ye,showClear:X,inputRef:ae,clearIconRef:D,inputValue:k,isComposition:P,compositionValue:S,limitNumber:Te,tStatus:z,emitFocus:oe,formatAndEmitBlur:Me,onHandleCompositionend:en,onHandleCompositionstart:On,onRootClick:Ve,emitPassword:Xe,handleInput:Ae,emitClear:Ne,onClearIconMousedown:Ie,innerValue:A}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function lu(o,a){var u=function(T){if(!o.disabled){var I=T.code,A=qt(T.currentTarget.value,o.type);if(/enter/i.test(I)||/enter/i.test(T.key)){var W;(W=o.onEnter)===null||W===void 0||W.call(o,A,{e:T})}else{var q;(q=o.onKeydown)===null||q===void 0||q.call(o,A,{e:T})}}},c=function(T){var I;if(!o.disabled){var A=qt(T.currentTarget.value,o.type);(I=o.onKeyup)===null||I===void 0||I.call(o,A,{e:T})}},m=function(T){var I;if(!o.disabled){var A=qt(T.currentTarget.value,o.type);(I=o.onKeypress)===null||I===void 0||I.call(o,A,{e:T})}},k=function(T){var I;if(!o.disabled){var A=T.clipboardData||window.clipboardData;(I=o.onPaste)===null||I===void 0||I.call(o,{e:T,pasteValue:A==null?void 0:A.getData("text/plain")})}},P=function(T){return a.value=T},S=function(T){var I;return(I=o.onWheel)===null||I===void 0?void 0:I.call(o,{e:T})},D=function(T){var I;P(!0),(I=o.onMouseenter)===null||I===void 0||I.call(o,{e:T})},B=function(T){var I;P(!1),(I=o.onMouseleave)===null||I===void 0||I.call(o,{e:T})};return{isHover:a,handleKeydown:u,handleKeyUp:c,handleKeypress:m,onHandlePaste:k,onHandleMousewheel:S,onInputMouseenter:D,onInputMouseleave:B}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var cu=100;function su(o,a,u){var c=Ht(o),m=c.autoWidth,k=c.placeholder,P=we(null),S=we(null),D=function(){if(!(!P.value||!a.value)){var T=P.value.getBoundingClientRect(),I=T.width;a.value.style.width="".concat(I||0,"px")}};ui(a,function(){m.value&&(S.value=setTimeout(function(){D(),clearTimeout(S.value)},cu))}),Ut(function(){clearTimeout(S.value)});var B=function(){Ye([u,k],function(){m.value&&Jn(function(){D()})},{immediate:!0})};return Kn(function(){m.value&&B()}),{inputPreRef:P}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var fu=["isHover","tStatus","inputRef","renderType","showClear","focused","inputValue","isComposition","compositionValue","innerValue","limitNumber"];function qa(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Va(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?qa(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):qa(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}function za(o){var a={};return Object.keys(o).forEach(function(u){vo(o[u])||(a[u]=o[u])}),a}var du=$e({name:"TInput",props:Va(Va({},au),{},{showInput:{type:Boolean,default:!0},keepWrapperWidth:{type:Boolean,default:!1}}),setup:function(a,u){var c=u.expose,m=uo("input"),k=m.globalConfig,P=Rr({BrowseIcon:Di,BrowseOffIcon:Ii,CloseCircleFilledIcon:Ki}),S=P.BrowseIcon,D=P.BrowseOffIcon,B=P.CloseCircleFilledIcon,E=Oo(),T=qr(),I=Ge("input"),A=Ge("input__wrap"),W=Ge("input__tips"),q=lo(),ee=q.STATUS,ye=q.SIZE,ae=Ge(),_e=Qn(),ve=uu(a,c),Te=ve.isHover,be=ve.tStatus,z=ve.inputRef,X=ve.renderType,Q=ve.showClear,de=ve.focused,oe=ve.inputValue,Ne=ve.isComposition,Ie=ve.compositionValue,Xe=ve.innerValue,We=ve.limitNumber,Ce=Pi(ve,fu),Ae=su(a,z,Xe),Se=Ae.inputPreRef,ke=lu(a,Te),Me=V(function(){var ne;return(ne=a.placeholder)!==null&&ne!==void 0?ne:k.value.placeholder}),en=V(function(){var ne;return za({autofocus:a.autofocus,disabled:T.value,readonly:E.value,placeholder:Me.value,maxlength:!a.allowInputOverMax&&a.maxlength||void 0,name:a.name||void 0,type:X.value,autocomplete:(ne=a.autocomplete)!==null&&ne!==void 0?ne:k.value.autocomplete||void 0,unselectable:E.value?"on":void 0,spellcheck:a.spellCheck})}),On=V(function(){return[A.value,fe({},"".concat(I.value,"--auto-width"),a.autoWidth&&!a.keepWrapperWidth)]}),Ve=za({onFocus:Ce.emitFocus,onBlur:Ce.formatAndEmitBlur,onKeydown:ke.handleKeydown,onKeyup:ke.handleKeyUp,onKeypress:ke.handleKeypress,onPaste:ke.onHandlePaste,onCompositionend:Ce.onHandleCompositionend,onCompositionstart:Ce.onHandleCompositionstart});return function(){var ne,Y,H=_e("prefixIcon"),ce=_e("suffixIcon"),qe=_e("passwordIcon"),U=_e("label",{silent:!0}),Cn=_e("suffix"),an=We.value&&a.showLimitNumber?Z("div",{class:["".concat(ae.value,"-input__limit-number"),fe({},"".concat(ae.value,"-is-disabled"),T.value)]},[We.value]):null,he=U?Z("div",{class:"".concat(I.value,"__prefix")},[U]):null,nn=Cn||an?Z("div",{class:"".concat(I.value,"__suffix")},[Cn,an]):null;if(a.type==="password"){var on=[fe({},"".concat(I.value,"__suffix-clear"),!T.value)];X.value==="password"?ce=Z(D,{class:on,onClick:Ce.emitPassword},null):X.value==="text"&&(ce=Z(S,{class:on,onClick:Ce.emitPassword},null))}Q.value&&(a.type==="password"?qe=Z(B,{ref:Ce.clearIconRef,class:"".concat(I.value,"__suffix-clear"),onClick:Ce.emitClear,onMousedown:Ce.onClearIconMousedown},null):ce=Z(B,{ref:Ce.clearIconRef,class:"".concat(I.value,"__suffix-clear"),onClick:Ce.emitClear,onMousedown:Ce.onClearIconMousedown},null));var Je=[I.value,a.inputClass,fe(fe(fe(fe(fe(fe(fe(fe(fe(fe({},ye.value[a.size],a.size!=="medium"),ee.value.disabled,T.value),ee.value.focused,T.value?!1:de.value),"".concat(ae.value,"-is-").concat(be.value),be.value&&be.value!=="default"),"".concat(ae.value,"-align-").concat(a.align),a.align!=="left"),"".concat(ae.value,"-is-readonly"),E.value),"".concat(I.value,"--prefix"),H||he),"".concat(I.value,"--suffix"),ce||nn),"".concat(I.value,"--borderless"),a.borderless),"".concat(I.value,"--focused"),de.value)],Rn=_e("tips"),Zn=[W.value,"".concat(ae.value,"-tips"),"".concat(ae.value,"-is-").concat(be.value||"default")];return Ar(Z("div",{class:On.value},[Z("div",{class:Je,onClick:Ce.onRootClick,onMouseenter:ke.onInputMouseenter,onMouseleave:ke.onInputMouseleave,onWheel:ke.onHandleMousewheel},[H?Z("span",{class:["".concat(I.value,"__prefix"),"".concat(I.value,"__prefix-icon")]},[H]):null,he,Z("input",Tn({class:["".concat(I.value,"__inner"),fe({},"".concat(I.value,"--soft-hidden"),!a.showInput)]},en.value,Ve,{ref:z,value:Ne.value?(ne=Ie.value)!==null&&ne!==void 0?ne:"":(Y=oe.value)!==null&&Y!==void 0?Y:"",onInput:function(J){return Ce.handleInput(J)}}),null),a.autoWidth&&Z("span",{ref:Se,class:"".concat(ae.value,"-input__input-pre")},[Xe.value||Me.value]),nn,qe?Z("span",{class:["".concat(I.value,"__suffix"),"".concat(I.value,"__suffix-icon"),"".concat(I.value,"__clear")]},[qe]):null,ce?Z("span",{class:["".concat(I.value,"__suffix"),"".concat(I.value,"__suffix-icon"),fe({},"".concat(I.value,"__clear"),Q.value)]},[ce]):null]),Rn&&Z("div",{class:Zn},[Rn])]),[[co,a.type!=="hidden"]])}}});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var vu={separate:Boolean};/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var hu=$e({name:"TInputGroup",props:vu,setup:function(a){var u=Ge("input-group"),c=Qn(),m=V(function(){return[u.value,fe({},"".concat(u.value,"--separate"),a.separate)]});return function(){return Z("div",{class:m.value},[c("default")])}}});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var _l=Gt(du);Gt(hu);/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function pu(o,a,u,c){for(var m=o.length,k=u+(c?1:-1);c?k--:++k<m;)if(a(o[k],k,o))return k;return-1}var mu=pu;function yu(o){return o!==o}var gu=yu;function bu(o,a,u){for(var c=u-1,m=o.length;++c<m;)if(o[c]===a)return c;return-1}var wu=bu,_u=mu,Ou=gu,Cu=wu;function ku(o,a,u){return a===a?Cu(o,a,u):_u(o,Ou,u)}var xu=ku,Pu=xu;function Su(o,a){var u=o==null?0:o.length;return!!u&&Pu(o,a,0)>-1}var Eu=Su;function ju(o,a,u){for(var c=-1,m=o==null?0:o.length;++c<m;)if(u(a,o[c]))return!0;return!1}var Iu=ju;/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Au=ci,Bu=Eu,Du=Iu,Tu=so,Mu=si,Wa=fi,Nu=Math.min;function Fu(o,a,u){for(var c=u?Du:Bu,m=o[0].length,k=o.length,P=k,S=Array(k),D=1/0,B=[];P--;){var E=o[P];P&&a&&(E=Tu(E,Mu(a))),D=Nu(E.length,D),S[P]=!u&&(a||m>=120&&E.length>=120)?new Au(P&&E):void 0}E=o[0];var T=-1,I=S[0];e:for(;++T<m&&B.length<D;){var A=E[T],W=a?a(A):A;if(A=u||A!==0?A:0,!(I?Wa(I,W):c(B,W,u))){for(P=k;--P;){var q=S[P];if(!(q?Wa(q,W):c(o[P],W,u)))continue e}I&&I.push(W),B.push(A)}}return B}var Ku=Fu,Ru=di;function Lu(o){return Ru(o)?o:[]}var $u=Lu,qu=so,Vu=Ku,zu=li,Wu=$u,Hu=zu(function(o){var a=qu(o,Wu);return a.length&&a[0]===o[0]?Vu(a):[]}),Ha=Hu;/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Ol=/^ArrowDown$/i,Cl=/^ArrowUp$/i,kl=/^Escape$/i,xl=/^Space$/i,Pl=/^Enter$/i,Sl=/^(Shift|ShiftLeft|ShiftRight)$/i,El=/^KeyC$/i,jl=/^(KeyA|KeyL)$/i,Ua=/^(Enter|Space)$/i;/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Uu={checkAll:Boolean,checked:{type:Boolean,default:void 0},modelValue:{type:Boolean,default:void 0},defaultChecked:Boolean,default:{type:[String,Function]},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},indeterminate:Boolean,label:{type:[String,Function]},lazyLoad:Boolean,name:{type:String,default:""},value:{type:[String,Number,Boolean]},onChange:Function};/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Co=Symbol("CheckboxGroupProvide");/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Gu(o,a,u,c){if(typeof window>"u")return null;if(!window||!window.IntersectionObserver)return u(),null;var m=null;try{m=new window.IntersectionObserver(function(k){var P=k[0];P.isIntersecting&&(u(),m.unobserve(o))},{rootMargin:"0px 0px ".concat(c,"px 0px"),root:a}),m.observe(o)}catch(k){console.error(k),u()}return m}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Yu(o,a){var u=we(),c=we(!0),m=function(){if(a.value){c.value=!1;var P=Gu(o.value,null,function(){c.value=!0},0);u.value=P}};return Kn(m),Ye([a,o],m),Ut(function(){a.value&&u.value.unobserve(o.value)}),{showCheckbox:c}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Xu(o){var a=function(k){var P=Ua.test(k.key)||Ua.test(k.code);if(P){k.preventDefault();var S=k.currentTarget.querySelector("input"),D=S.disabled;!D&&o(k)}},u=function(k){k.currentTarget.addEventListener("keydown",a)},c=function(k){k.currentTarget.removeEventListener("keydown",a)};return{onCheckboxFocus:u,onCheckboxBlur:c}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Ga(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Ya(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Ga(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Ga(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var ko=$e({name:"TCheckbox",props:Ya(Ya({},Uu),{},{needRipple:Boolean,stopLabelTrigger:Boolean,index:Number,data:Object}),setup:function(a){var u=we();a.needRipple&&vi(u);var c=lo(),m=c.STATUS,k=Ht(a),P=k.checked,S=k.modelValue,D=k.lazyLoad,B=Vr(P,S,a.defaultChecked,a.onChange,"checked"),E=Wt(B,2),T=E[0],I=E[1],A=$r(Co,void 0),W=we();Ye(function(){return[a.name,A==null?void 0:A.value.name].join("_")},function(){var Ae=a.name||(A==null?void 0:A.value.name);Ae&&(W.value=Ae)},{immediate:!0});var q=we(!1),ee=function(){var Se=a.value,ke=a.checkAll;return ke?A==null?void 0:A.value.isCheckAll:A!=null&&A.value?A.value.checkedValues.includes(Se):T.value};Ye(function(){var Ae;return[T.value,A==null?void 0:A.value.isCheckAll,A==null||(Ae=A.value.checkedValues)===null||Ae===void 0?void 0:Ae.join(",")]},function(){q.value=ee()},{immediate:!0});var ye=V(function(){return!a.checkAll&&!q.value&&A!==null&&A!==void 0&&A.value.maxExceeded?!0:null}),ae=V(function(){return A==null?void 0:A.value.disabled}),_e=qr({beforeDisabled:ye,afterDisabled:ae}),ve=V(function(){return A==null?void 0:A.value.readonly}),Te=Oo({afterReadonly:ve}),be=we(!1);Ye(function(){return[a.checkAll,a.indeterminate,A==null?void 0:A.value.indeterminate]},function(){be.value=a.checkAll?A==null?void 0:A.value.indeterminate:a.indeterminate},{immediate:!0});var z=Ge("checkbox"),X=we({});Ye([q,_e,be],function(){X.value=["".concat(z.value),fe(fe(fe({},m.value.checked,q.value),m.value.disabled,_e.value),m.value.indeterminate,be.value)]},{immediate:!0});var Q=function(Se){if(!Te.value){var ke=!q.value;I(ke,{e:Se}),A!=null&&A.value.handleCheckboxChange&&A.value.onCheckedChange({checked:ke,checkAll:a.checkAll,e:Se,option:a})}},de=Lr(),oe=function(Se){a.stopLabelTrigger&&Se.preventDefault()},Ne=Yu(u,D),Ie=Ne.showCheckbox,Xe=Xu(Q),We=Xe.onCheckboxFocus,Ce=Xe.onCheckboxBlur;return function(){return Z("label",{ref:u,class:X.value,tabindex:_e.value?void 0:"0",onFocus:We,onBlur:Ce},[Ie.value?[Z("input",{type:"checkbox",tabindex:"-1",class:"".concat(z.value,"__former"),disabled:_e.value,readonly:Te.value,indeterminate:be.value,name:W.value,value:a.value?a.value:void 0,checked:q.value,onChange:Q,key:"input"},null),Z("span",{class:"".concat(z.value,"__input"),key:"input-span"},null),Z("span",{class:"".concat(z.value,"__label"),key:"label",onClick:oe},[de("default","label")])]:null])}}});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Ju={disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},lazyLoad:Boolean,max:{type:Number,default:void 0},name:{type:String,default:""},options:{type:Array},value:{type:Array,default:void 0},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:function(){return[]}},onChange:Function};/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Qu=$e({name:"TCheckboxGroup",props:Ju,setup:function(a){var u=Ge("checkbox-group"),c=Qn(),m=Array.isArray,k=Ht(a),P=k.value,S=k.modelValue,D=Vr(P,S,a.defaultValue,a.onChange),B=Wt(D,2),E=B[0],T=B[1],I=we([]),A=V(function(){if(!m(E.value))return 0;var z=I.value.map(function(Q){return Q.value}),X=Ha(E.value,z);return X.length}),W=V(function(){var z=I.value.filter(function(Q){return!Q.disabled&&!Q.readonly&&!Q.checkAll}).map(function(Q){return Q.value}),X=Ha(z,E.value);return X.length===z.length}),q=V(function(){return!W.value&&A.value<I.value.length&&A.value!==0}),ee=V(function(){return!vo(a.max)&&E.value.length===a.max});hi(function(){if(!a.options)return[];I.value=a.options.map(function(z){return Xn(z)?z:{label:String(z),value:z}})});var ye=function(){for(var X=new Set,Q=0,de=I.value.length;Q<de;Q++){var oe=I.value[Q];if(!oe.checkAll&&!oe.disabled&&!oe.readonly&&(X.add(oe.value),ee.value))break}return Dr(X)},ae=function(X,Q){var de=X?ye():[];T(de,{e:Q.e,type:X?"check":"uncheck",current:void 0,option:void 0})},_e=function(X){var Q=X.option.value;if(!m(E.value)){console.warn("TDesign CheckboxGroup Warn: `value` must be an array, instead of ".concat(Br(E.value)));return}var de=Dr(E.value);if(X.checked)de.push(Q);else{var oe=de.indexOf(Q);de.splice(oe,1)}T(de,{e:X.e,current:X.option.value,option:X.option,type:X.checked?"check":"uncheck"})},ve=function(X){var Q=X.checked,de=X.checkAll,oe=X.e;de?ae(Q,{e:oe}):_e(X)},Te=Hi(),be=function(){var X=Te("Checkbox"),Q=[];return X==null||X.forEach(function(de){var oe=de.props;oe&&((oe["check-all"]===""||oe["check-all"]===!0)&&(oe.checkAll=!0),Q.push(oe))}),Q};return pi(Co,V(function(){return{name:a.name,isCheckAll:W.value,checkedValues:E.value||[],maxExceeded:ee.value,disabled:a.disabled,readonly:a.readonly,indeterminate:q.value,handleCheckboxChange:_e,onCheckedChange:ve}})),function(){var z,X=null;if((z=a.options)!==null&&z!==void 0&&z.length){var Q;X=(Q=I.value)===null||Q===void 0?void 0:Q.map(function(oe,Ne){var Ie;return Z(ko,Tn({key:"".concat(oe.value||"").concat(Ne),lazyLoad:a.lazyLoad},oe,{index:Ne,checked:(Ie=E.value)===null||Ie===void 0?void 0:Ie.includes(oe.value),data:oe}),null)})}else{var de=c("default");I.value=be(),X=de}return Z("div",{class:u.value,role:"group","aria-label":"checkbox-group"},[X])}}});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Il=Gt(ko),Al=Gt(Qu);/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var Zu=1e3,el=5e3,nl=1,tl=yi(function o(){var a=this;gi(this,o),fe(this,"popupStack",{popup:new Set,dialog:new Set,message:new Set}),fe(this,"getNextZIndex",function(u){var c=u==="message"?Array.from(a.popupStack.message).pop()||el:Array.from(a.popupStack.popup).pop()||Zu;return c+nl}),fe(this,"add",function(u){var c=a.getNextZIndex(u);return a.popupStack[u].add(c),u==="dialog"&&a.popupStack.popup.add(c),c}),fe(this,"delete",function(u,c){a.popupStack[c].delete(u),c==="dialog"&&a.popupStack.popup.delete(u)}),fe(this,"isLastDialog",function(u){return a.popupStack.dialog.size>1?u===Array.from(a.popupStack.dialog).pop():!0})}),Ir=new tl;function rl(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=a.visible,c=a.runOnMounted,m=we(0),k=function(){m.value=Ir.add(o)},P=function(){Ir.delete(m.value,o)},S=function(){return o==="dialog"?Ir.isLastDialog(m.value):!1};return Ye(function(){return u==null?void 0:u.value},function(D){D?k():P()},{immediate:!0}),c&&(Kn(function(){k()}),Ut(function(){P()})),{zIndex:mi(m),open:k,close:P,isLastDialog:S}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */var al={attach:{type:[String,Function]},body:{type:[String,Function]},cancelBtn:{type:[String,Object,Function]},closeBtn:{type:[String,Boolean,Function],default:!0},closeOnEscKeydown:{type:Boolean,default:void 0},closeOnOverlayClick:{type:Boolean,default:void 0},confirmBtn:{type:[String,Object,Function]},confirmLoading:{type:Boolean,default:void 0},confirmOnEnter:Boolean,default:{type:[String,Function]},destroyOnClose:Boolean,dialogClassName:{type:String,default:""},dialogStyle:{type:Object},draggable:Boolean,footer:{type:[Boolean,Function],default:!0},header:{type:[String,Boolean,Function],default:!0},mode:{type:String,default:"modal",validator:function(a){return a?["modal","modeless","normal","full-screen"].includes(a):!0}},placement:{type:String,default:"top",validator:function(a){return a?["top","center"].includes(a):!0}},preventScrollThrough:{type:Boolean,default:!0},showInAttachedElement:Boolean,showOverlay:{type:Boolean,default:!0},theme:{type:String,default:"default",validator:function(a){return a?["default","info","warning","danger","success"].includes(a):!0}},top:{type:[String,Number]},visible:Boolean,width:{type:[String,Number]},zIndex:{type:Number},onCancel:Function,onClose:Function,onCloseBtnClick:Function,onClosed:Function,onConfirm:Function,onEscKeydown:Function,onOpened:Function,onOverlayClick:Function};/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Xa(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Yn(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Xa(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Xa(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}function ol(o){var a=Kr(),u=Qn(),c=function(B){var E,T=B.globalConfirm,I=B.theme,A=B.globalConfirmBtnTheme,W=((E=fo(A,["info"]))===null||E===void 0?void 0:E[I])||"primary",q={theme:W,size:B.size,onClick:function(ye){o.confirmBtnAction(ye)}};return $t(T)?q.content=T:Xn(T)&&(q=Yn(Yn({},q),T)),q},m=function(B){var E=B.globalCancel,T={theme:"default",size:B.size,onClick:function(A){o.cancelBtnAction(A)}};return $t(E)?T.content=E:Xn(E)&&(T=Yn(Yn({},T),E)),T},k=function(B,E){var T=E.defaultButtonProps,I=E.className,A=E.confirmLoading,W=T;return $t(B)?W.content=B:Xn(B)&&(W=Yn(Yn({},W),B)),A!==void 0&&(W.loading=A),Z(jr,Tn({class:I},W),null)},P=function(B){var E=B.confirmBtn,T=B.className,I=B.confirmLoading;if(E===null)return null;E&&a.slots.confirmBtn&&console.warn("Both $props.confirmBtn and $scopedSlots.confirmBtn exist, $props.confirmBtn is preferred.");var A=c(B);return!E&&!a.slots.confirmBtn?Z(jr,Tn({class:T,loading:I},A),null):E&&["string","object"].includes(Br(E))?k(E,{defaultButtonProps:A,className:T,confirmLoading:I}):u("confirmBtn")},S=function(B){var E=B.cancelBtn,T=B.className;if(E===null)return null;E&&a.slots.cancelBtn&&console.warn("Both $props.cancelBtn and $scopedSlots.cancelBtn exist, $props.cancelBtn is preferred.");var I=m(B);return!E&&!a.slots.cancelBtn?Z(jr,Tn({class:T},I),null):E&&["string","object"].includes(Br(E))?k(E,{defaultButtonProps:I}):u("cancelBtn")};return{getConfirmBtn:P,getCancelBtn:S}}function il(o){var a=!1,u=!1,c=function(S){a&&u&&o(S),a=!1,u=!1},m=function(S){a=S.target===S.currentTarget},k=function(S){u=S.target===S.currentTarget};return{onClick:c,onMousedown:m,onMouseup:k}}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Bl(){var o=6;if(typeof navigator>"u"||!navigator||/(Chrome|Safari)/i.test(navigator.userAgent))return o;var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a);var u=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),/Firefox/.test(navigator.userAgent)&&(u-=4),bi()<=11&&(u=12),u}function ul(){var o=document.createElement("div");o.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(o);var a=o.offsetWidth-o.clientWidth;return document.body.removeChild(o),a}/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function Ja(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function Qa(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?Ja(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):Ja(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}function Za(o){return Number.isNaN(Number(o))?o:"".concat(Number(o),"px")}var dt,ll=function(a){dt={x:a.clientX,y:a.clientY},setTimeout(function(){dt=null},100)};typeof window<"u"&&window.document&&window.document.documentElement&&document.documentElement.addEventListener("click",ll,!0);function cl(o){var a=o,u=window.innerWidth||document.documentElement.clientWidth,c=window.innerHeight||document.documentElement.clientHeight;a.addEventListener("mousedown",function(m){var k=m.clientX-a.offsetLeft,P=m.clientY-a.offsetTop,S=a.offsetWidth,D=a.offsetHeight;if(S>u||D>c)return;function B(T){var I=T.clientX-k,A=T.clientY-P;I<0&&(I=0),A<0&&(A=0),u-a.offsetWidth-I<0&&(I=u-a.offsetWidth),c-a.offsetHeight-A<0&&(A=c-a.offsetHeight),a.style.position="absolute",a.style.left="".concat(I,"px"),a.style.top="".concat(A,"px")}function E(){document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",E)}document.addEventListener("mousemove",B),document.addEventListener("mouseup",E),document.addEventListener("dragend",E)})}var sl=1,fl=$e({name:"TDialog",directives:{draggable:function(a,u){a&&u&&u.value&&cl(a)}},inheritAttrs:!1,props:al,emits:["update:visible"],setup:function(a,u){var c=this,m=Ge("dialog"),k=Ge(),P=Lr(),S=Qn(),D=we(null),B=uo("dialog"),E=B.globalConfig,T=Rr({CloseIcon:ro,InfoCircleFilledIcon:mo,CheckCircleFilledIcon:ho,ErrorCircleFilledIcon:po}),I=T.CloseIcon,A=T.InfoCircleFilledIcon,W=T.CheckCircleFilledIcon,q=T.ErrorCircleFilledIcon,ee=function(J){var se;(se=a.onConfirm)===null||se===void 0||se.call(a,{e:J})},ye=function(J){var se;(se=a.onCancel)===null||se===void 0||se.call(a,{e:J}),on({e:J,trigger:"cancel"})},ae=ol({confirmBtnAction:ee,cancelBtnAction:ye}),_e=ae.getConfirmBtn,ve=ae.getCancelBtn,Te=wi(function(){return a.attach});_i();var be=we(),z=we(),X=V(function(){return a.mode==="modal"}),Q=V(function(){return a.mode==="modeless"}),de=V(function(){return a.mode==="normal"}),oe=V(function(){return a.mode==="full-screen"}),Ne=V(function(){return a.visible}),Ie=V(function(){return["".concat(m.value,"__mask"),!a.showOverlay&&"".concat(k.value,"-is-hidden")]}),Xe=V(function(){return de.value?[]:oe.value?["".concat(m.value,"__position_fullscreen")]:["".concat(m.value,"__position"),!!a.top&&"".concat(m.value,"--top"),"".concat(a.placement&&!a.top?"".concat(m.value,"--").concat(a.placement):"")]}),We=V(function(){return[!de.value&&"".concat(m.value,"__wrap")]}),Ce=V(function(){if(oe.value)return{};var pe=a.top,J={};if(pe!==void 0){var se=Za(pe);J={paddingTop:se}}return J}),Ae=V(function(){var pe=["".concat(m.value),"".concat(m.value,"__modal-").concat(a.theme),Q.value&&a.draggable&&"".concat(m.value,"--draggable"),a.dialogClassName];return oe.value?pe.push("".concat(m.value,"__fullscreen")):pe.push.apply(pe,["".concat(m.value,"--default"),"".concat(m.value,"--").concat(a.placement)]),pe}),Se=V(function(){return oe.value?Qa({},a.dialogStyle):Qa({width:Za(a.width)},a.dialogStyle)}),ke=rl("dialog",{visible:Ne}),Me=ke.isLastDialog;Ye(function(){return a.visible},function(pe){if(pe){var J;(X.value&&!a.showInAttachedElement||oe.value)&&(a.preventScrollThrough&&document.body.appendChild(z.value),Jn(function(){dt&&D.value&&(D.value.style.transformOrigin="".concat(dt.x-D.value.offsetLeft,"px ").concat(dt.y-D.value.offsetTop,"px"))})),(J=document.activeElement)===null||J===void 0||J.blur()}else On();Ve(pe)});function en(){var pe,J;(pe=z.value.parentNode)===null||pe===void 0||(J=pe.removeChild)===null||J===void 0||J.call(pe,z.value)}function On(){clearTimeout(be.value),be.value=setTimeout(function(){en()},150)}var Ve=function(J){J?(document.addEventListener("keydown",Y),a.confirmOnEnter&&document.addEventListener("keydown",ne)):(document.removeEventListener("keydown",Y),a.confirmOnEnter&&document.removeEventListener("keydown",ne))},ne=function(J){var se=J.target;if(se.tagName.toLowerCase()!=="input"){var Oe=J.code;if((Oe==="Enter"||Oe==="NumpadEnter")&&Me()){var vn;(vn=a.onConfirm)===null||vn===void 0||vn.call(a,{e:J})}}},Y=function(J){if(J.code==="Escape"&&Me()){var se,Oe;(se=a.onEscKeydown)===null||se===void 0||se.call(a,{e:J}),((Oe=a.closeOnEscKeydown)!==null&&Oe!==void 0?Oe:E.value.closeOnEscKeydown)&&on({e:J,trigger:"esc"})}},H=function(J){var se;if(a.showOverlay&&((se=a.closeOnOverlayClick)!==null&&se!==void 0?se:E.value.closeOnOverlayClick)){var Oe;(Oe=a.onOverlayClick)===null||Oe===void 0||Oe.call(a,{e:J}),on({e:J,trigger:"overlay"})}},ce=il(H),qe=ce.onClick,U=ce.onMousedown,Cn=ce.onMouseup,an=function(J){var se;(se=a.onCloseBtnClick)===null||se===void 0||se.call(a,{e:J}),on({trigger:"close-btn",e:J})},he=function(){var J;(J=a.onOpened)===null||J===void 0||J.call(a)},nn=function(){var J;Q.value&&a.draggable&&D.value&&(D.value.style.position="relative",D.value.style.left="unset",D.value.style.top="unset"),(J=a.onClosed)===null||J===void 0||J.call(a)},on=function(J){var se;(se=a.onClose)===null||se===void 0||se.call(a,J),u.emit("update:visible",!1)},Je=function(J){var se,Oe=(se=c._events)===null||se===void 0?void 0:se[J];return!!(Oe!=null&&Oe.length)},Rn=function(){var J={info:Z(A,{class:"".concat(k.value,"-is-info")},null),warning:Z(q,{class:"".concat(k.value,"-is-warning")},null),danger:Z(q,{class:"".concat(k.value,"-is-error")},null),success:Z(W,{class:"".concat(k.value,"-is-success")},null)};return J[a.theme]},Zn=function(){var J=Z("h5",{class:"title"},null),se=Z(I,null,null),Oe=P("default","body"),vn=Z("div",null,[ve({cancelBtn:a.cancelBtn,globalCancel:E.value.cancel,className:"".concat(m.value,"__cancel")}),_e({theme:a.theme,confirmBtn:a.confirmBtn,globalConfirm:E.value.confirm,globalConfirmBtnTheme:E.value.confirmBtnTheme,className:"".concat(m.value,"__confirm"),confirmLoading:a.confirmLoading})]),kn=oe.value?["".concat(m.value,"__header"),"".concat(m.value,"__header--fullscreen")]:"".concat(m.value,"__header"),vt=oe.value?["".concat(m.value,"__close"),"".concat(m.value,"__close--fullscreen")]:"".concat(m.value,"__close"),un=a.theme==="default"?["".concat(m.value,"__body")]:["".concat(m.value,"__body__icon")],ln=S("footer",vn);oe.value&&ln?un.push("".concat(m.value,"__body--fullscreen")):oe.value&&un.push("".concat(m.value,"__body--fullscreen--without-footer"));var et=oe.value?["".concat(m.value,"__footer"),"".concat(m.value,"__footer--fullscreen")]:"".concat(m.value,"__footer"),cn=function(Ln){Q.value&&a.draggable&&Ln.stopPropagation()};return Z("div",{class:We.value},[Z("div",{class:Xe.value,style:Ce.value,onClick:qe,onMousedown:U,onMouseup:Cn},[Ar(Z("div",{key:"dialog",class:Ae.value,style:Se.value,ref:D},[Z("div",{class:kn,onMousedown:cn},[Z("div",{class:"".concat(m.value,"__header-content")},[Rn(),S("header",J)]),a.closeBtn?Z("span",{class:vt,onClick:an},[S("closeBtn",se)]):null]),Z("div",{class:un,onMousedown:cn},[Oe]),ln&&Z("div",{class:et,onMousedown:cn},[ln])]),[[ki("draggable"),Q.value&&a.draggable]])])])};return Kn(function(){var pe=document.documentElement.scrollHeight>document.documentElement.clientHeight,J=pe?ul():0;z.value=document.createElement("style"),z.value.dataset.id="td_dialog_".concat(+new Date,"_").concat(sl+=1),z.value.innerHTML=`
        html body {
          overflow-y: hidden;
          width: calc(100% - `.concat(J,`px);
        }
      `)}),Ut(function(){Ve(!1),en()}),{COMPONENT_NAME:m,isModal:X,isModeLess:Q,isFullScreen:oe,maskClass:Ie,dialogClass:Ae,dialogStyle:Se,dialogEle:D,afterEnter:he,afterLeave:nn,hasEventOn:Je,renderDialog:Zn,teleportElement:Te}},render:function(){var a=this,u=this.COMPONENT_NAME,c=(this.isModal||this.isFullScreen)&&Z("div",{key:"mask",class:this.maskClass},null),m=this.renderDialog(),k=[c,m],P={zIndex:this.zIndex},S=["".concat(u,"__ctx"),fe(fe(fe({},"".concat(u,"__ctx--fixed"),this.isModal||this.isFullScreen),"".concat(u,"__ctx--absolute"),this.isModal&&this.showInAttachedElement),"".concat(u,"__ctx--modeless"),this.isModeLess)];return Z(Ci,{disabled:!this.attach||!this.teleportElement,to:this.teleportElement},{default:function(){return[Z(Oi,{duration:300,name:"".concat(u,"-zoom__vue"),onAfterEnter:a.afterEnter,onAfterLeave:a.afterLeave},{default:function(){return[(!a.destroyOnClose||a.visible)&&Ar(Z("div",Tn({class:S,style:P},a.$attrs),[k]),[[co,a.visible]])]}})]}})}});/**
 * tdesign v1.9.8
 * (c) 2024 tdesign
 * @license MIT
 */function eo(o,a){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(o);a&&(c=c.filter(function(m){return Object.getOwnPropertyDescriptor(o,m).enumerable})),u.push.apply(u,c)}return u}function ft(o){for(var a=1;a<arguments.length;a++){var u=arguments[a]!=null?arguments[a]:{};a%2?eo(Object(u),!0).forEach(function(c){fe(o,c,u[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(u)):eo(Object(u)).forEach(function(c){Object.defineProperty(o,c,Object.getOwnPropertyDescriptor(u,c))})}return o}var Yt=function(a){var u=ft({},a),c=document.createElement("div"),m=we(!1),k=u.className,P=u.style,S=k,D=function(q,ee){if(q){if(S&&S!==q){var ye;(ye=c.firstElementChild.classList).remove.apply(ye,Dr(S.split(" ").map(function(ae){return ae.trim()})))}q.split(" ").forEach(function(ae){c.firstElementChild.classList.add(ae.trim())})}ee&&(c.firstElementChild.style.cssText+=ee),S=q},B=$e({setup:function(q,ee){var ye=ee.expose,ae=we(u);Kn(function(){m.value=!0,document.activeElement.blur(),Jn(function(){D(k,P)})});var _e=function(Te){ae.value=ft(ft({},u),Te)};return ye({update:_e}),function(){var ve=u.onClose||function(){m.value=!1};return delete u.className,delete u.style,ao(fl,ft({onClose:ve,visible:m.value},ae.value))}}}),E=io(B),T=E.mount(c),I=oo(u.attach);I?I.appendChild(c):console.error("attach is not exist");var A={show:function(){m.value=!0},hide:function(){m.value=!1},update:function(q){T.update(fo(q,["className","style"])),D(q.className,q.style)},destroy:function(){m.value=!1,setTimeout(function(){E.unmount(),c.remove()},300)},setConfirmLoading:function(q){T.update({confirmLoading:q})}};return A},dl=function(a){return Yt(a)},vl=function(a){var u=ft({},a);return u.cancelBtn=null,Yt(u)},zt={confirm:dl,alert:vl},xo=Yt;xo.install=function(o){o.config.globalProperties.$dialog=Yt,Object.keys(zt).forEach(function(a){o.config.globalProperties.$dialog[a]=zt[a]})};Object.keys(zt).forEach(function(o){xo[o]=zt[o]});const hl=({date:o="",format:a})=>{o=o?new Date(o):new Date;const u=o.getFullYear(),c=o.getMonth()+1,m=o.getDate(),k=o.getHours(),P=o.getMinutes(),S=o.getSeconds(),D=o.getMilliseconds(),B=E=>{const T=E.toString();return T[1]?T:"0"+T};switch(a){case"YYY-MM-DD":return`${[u,c,m].map(B).join("-")}`;case"YYY-MM":return`${[u,c].map(B).join("-")}`;case"hh:mm:ss":return`${[k,P,S].map(B).join(":")}`;case"hh:mm":return`${[k,P].map(B).join(":")}`;case"YYY-MM-DD hh:mm:ss:dd":return`${[u,c,m].map(B).join("-")} ${[k,P,S,D].map(B).join(":")}`;default:return`${[u,c,m].map(B).join("-")} ${[k,P,S].map(B).join(":")}`}};var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pl(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var Po={exports:{}};(function(o,a){(function(u,c){o.exports=c()})(no,function(){var u=function(e,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])})(e,n)},c=function(){return(c=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)};function m(e,n,t){if(t||arguments.length===2)for(var r,i=0,l=n.length;i<l;i++)!r&&i in n||((r=r||Array.prototype.slice.call(n,0,i))[i]=n[i]);return e.concat(r||Array.prototype.slice.call(n))}var k=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:no,P=Object.keys,S=Array.isArray;function D(e,n){return typeof n!="object"||P(n).forEach(function(t){e[t]=n[t]}),e}typeof Promise>"u"||k.Promise||(k.Promise=Promise);var B=Object.getPrototypeOf,E={}.hasOwnProperty;function T(e,n){return E.call(e,n)}function I(e,n){typeof n=="function"&&(n=n(B(e))),(typeof Reflect>"u"?P:Reflect.ownKeys)(n).forEach(function(t){W(e,t,n[t])})}var A=Object.defineProperty;function W(e,n,t,r){A(e,n,D(t&&T(t,"get")&&typeof t.get=="function"?{get:t.get,set:t.set,configurable:!0}:{value:t,configurable:!0,writable:!0},r))}function q(e){return{from:function(n){return e.prototype=Object.create(n.prototype),W(e.prototype,"constructor",e),{extend:I.bind(null,e.prototype)}}}}var ee=Object.getOwnPropertyDescriptor,ye=[].slice;function ae(e,n,t){return ye.call(e,n,t)}function _e(e,n){return n(e)}function ve(e){if(!e)throw new Error("Assertion Failed")}function Te(e){k.setImmediate?setImmediate(e):setTimeout(e,0)}function be(e,n){if(typeof n=="string"&&T(e,n))return e[n];if(!n)return e;if(typeof n!="string"){for(var t=[],r=0,i=n.length;r<i;++r){var l=be(e,n[r]);t.push(l)}return t}var s=n.indexOf(".");if(s!==-1){var f=e[n.substr(0,s)];return f==null?void 0:be(f,n.substr(s+1))}}function z(e,n,t){if(e&&n!==void 0&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof n!="string"&&"length"in n){ve(typeof t!="string"&&"length"in t);for(var r=0,i=n.length;r<i;++r)z(e,n[r],t[r])}else{var l,s,f=n.indexOf(".");f!==-1?(l=n.substr(0,f),(s=n.substr(f+1))===""?t===void 0?S(e)&&!isNaN(parseInt(l))?e.splice(l,1):delete e[l]:e[l]=t:z(f=!(f=e[l])||!T(e,l)?e[l]={}:f,s,t)):t===void 0?S(e)&&!isNaN(parseInt(n))?e.splice(n,1):delete e[n]:e[n]=t}}function X(e){var n,t={};for(n in e)T(e,n)&&(t[n]=e[n]);return t}var Q=[].concat;function de(e){return Q.apply([],e)}var fn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(de([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(n){return n+e+"Array"})}))).filter(function(e){return k[e]}),oe=new Set(fn.map(function(e){return k[e]})),Ne=null;function Ie(e){return Ne=new WeakMap,e=function n(t){if(!t||typeof t!="object")return t;var r=Ne.get(t);if(r)return r;if(S(t)){r=[],Ne.set(t,r);for(var i=0,l=t.length;i<l;++i)r.push(n(t[i]))}else if(oe.has(t.constructor))r=t;else{var s,f=B(t);for(s in r=f===Object.prototype?{}:Object.create(f),Ne.set(t,r),t)T(t,s)&&(r[s]=n(t[s]))}return r}(e),Ne=null,e}var Xe={}.toString;function We(e){return Xe.call(e).slice(8,-1)}var Ce=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ae=typeof Ce=="symbol"?function(e){var n;return e!=null&&(n=e[Ce])&&n.apply(e)}:function(){return null};function Se(e,n){return n=e.indexOf(n),0<=n&&e.splice(n,1),0<=n}var ke={};function Me(e){var n,t,r,i;if(arguments.length===1){if(S(e))return e.slice();if(this===ke&&typeof e=="string")return[e];if(i=Ae(e)){for(t=[];!(r=i.next()).done;)t.push(r.value);return t}if(e==null)return[e];if(typeof(n=e.length)!="number")return[e];for(t=new Array(n);n--;)t[n]=e[n];return t}for(n=arguments.length,t=new Array(n);n--;)t[n]=arguments[n];return t}var en=typeof Symbol<"u"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},un=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],He=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(un),On={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ve(e,n){this.name=e,this.message=n}function ne(e,n){return e+". Errors: "+Object.keys(n).map(function(t){return n[t].toString()}).filter(function(t,r,i){return i.indexOf(t)===r}).join(`
`)}function Y(e,n,t,r){this.failures=n,this.failedKeys=r,this.successCount=t,this.message=ne(e,n)}function H(e,n){this.name="BulkError",this.failures=Object.keys(n).map(function(t){return n[t]}),this.failuresByPos=n,this.message=ne(e,this.failures)}q(Ve).from(Error).extend({toString:function(){return this.name+": "+this.message}}),q(Y).from(Ve),q(H).from(Ve);var ce=He.reduce(function(e,n){return e[n]=n+"Error",e},{}),qe=Ve,U=He.reduce(function(e,n){var t=n+"Error";function r(i,l){this.name=t,i?typeof i=="string"?(this.message="".concat(i).concat(l?`
 `+l:""),this.inner=l||null):typeof i=="object"&&(this.message="".concat(i.name," ").concat(i.message),this.inner=i):(this.message=On[n]||t,this.inner=null)}return q(r).from(qe),e[n]=r,e},{});U.Syntax=SyntaxError,U.Type=TypeError,U.Range=RangeError;var Cn=un.reduce(function(e,n){return e[n+"Error"]=U[n],e},{}),an=He.reduce(function(e,n){return["Syntax","Type","Range"].indexOf(n)===-1&&(e[n+"Error"]=U[n]),e},{});function he(){}function nn(e){return e}function on(e,n){return e==null||e===nn?n:function(t){return n(e(t))}}function Je(e,n){return function(){e.apply(this,arguments),n.apply(this,arguments)}}function Rn(e,n){return e===he?n:function(){var t=e.apply(this,arguments);t!==void 0&&(arguments[0]=t);var r=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var l=n.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Je(r,this.onsuccess):r),i&&(this.onerror=this.onerror?Je(i,this.onerror):i),l!==void 0?l:t}}function Zn(e,n){return e===he?n:function(){e.apply(this,arguments);var t=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,n.apply(this,arguments),t&&(this.onsuccess=this.onsuccess?Je(t,this.onsuccess):t),r&&(this.onerror=this.onerror?Je(r,this.onerror):r)}}function pe(e,n){return e===he?n:function(t){var r=e.apply(this,arguments);D(t,r);var i=this.onsuccess,l=this.onerror;return this.onsuccess=null,this.onerror=null,t=n.apply(this,arguments),i&&(this.onsuccess=this.onsuccess?Je(i,this.onsuccess):i),l&&(this.onerror=this.onerror?Je(l,this.onerror):l),r===void 0?t===void 0?void 0:t:D(r,t)}}function J(e,n){return e===he?n:function(){return n.apply(this,arguments)!==!1&&e.apply(this,arguments)}}function se(e,n){return e===he?n:function(){var t=e.apply(this,arguments);if(t&&typeof t.then=="function"){for(var r=this,i=arguments.length,l=new Array(i);i--;)l[i]=arguments[i];return t.then(function(){return n.apply(r,l)})}return n.apply(this,arguments)}}an.ModifyError=Y,an.DexieError=Ve,an.BulkError=H;var Oe=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function vn(e){Oe=e}var kn={},vt=100,fn=typeof Promise>"u"?[]:function(){var e=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[e,B(e),e];var n=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[n,B(n),e]}(),un=fn[0],He=fn[1],fn=fn[2],He=He&&He.then,ln=un&&un.constructor,et=!!fn,cn=function(e,n){nt.push([e,n]),Ln&&(queueMicrotask(jo),Ln=!1)},ht=!0,Ln=!0,xn=[],pt=[],Xt=nn,hn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:he,pgp:!1,env:{},finalize:he},G=hn,nt=[],Pn=0,mt=[];function $(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var n=this._PSD=G;if(typeof e!="function"){if(e!==kn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Qt(this,this._value))}this._state=null,this._value=null,++n.ref,function t(r,i){try{i(function(l){if(r._state===null){if(l===r)throw new TypeError("A promise cannot be resolved with itself.");var s=r._lib&&$n();l&&typeof l.then=="function"?t(r,function(f,p){l instanceof $?l._then(f,p):l.then(f,p)}):(r._state=!0,r._value=l,Ur(r)),s&&qn()}},Qt.bind(null,r))}catch(l){Qt(r,l)}}(this,e)}var Jt={get:function(){var e=G,n=wt;function t(r,i){var l=this,s=!e.global&&(e!==G||n!==wt),f=s&&!mn(),p=new $(function(v,b){Zt(l,new Hr(Yr(r,e,s,f),Yr(i,e,s,f),v,b,e))});return this._consoleTask&&(p._consoleTask=this._consoleTask),p}return t.prototype=kn,t},set:function(e){W(this,"then",e&&e.prototype===kn?Jt:{get:function(){return e},set:Jt.set})}};function Hr(e,n,t,r,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof n=="function"?n:null,this.resolve=t,this.reject=r,this.psd=i}function Qt(e,n){var t,r;pt.push(n),e._state===null&&(t=e._lib&&$n(),n=Xt(n),e._state=!1,e._value=n,r=e,xn.some(function(i){return i._value===r._value})||xn.push(r),Ur(e),t&&qn())}function Ur(e){var n=e._listeners;e._listeners=[];for(var t=0,r=n.length;t<r;++t)Zt(e,n[t]);var i=e._PSD;--i.ref||i.finalize(),Pn===0&&(++Pn,cn(function(){--Pn==0&&er()},[]))}function Zt(e,n){if(e._state!==null){var t=e._state?n.onFulfilled:n.onRejected;if(t===null)return(e._state?n.resolve:n.reject)(e._value);++n.psd.ref,++Pn,cn(Eo,[t,e,n])}else e._listeners.push(n)}function Eo(e,n,t){try{var r,i=n._value;!n._state&&pt.length&&(pt=[]),r=Oe&&n._consoleTask?n._consoleTask.run(function(){return e(i)}):e(i),n._state||pt.indexOf(i)!==-1||function(l){for(var s=xn.length;s;)if(xn[--s]._value===l._value)return xn.splice(s,1)}(n),t.resolve(r)}catch(l){t.reject(l)}finally{--Pn==0&&er(),--t.psd.ref||t.psd.finalize()}}function jo(){Sn(hn,function(){$n()&&qn()})}function $n(){var e=ht;return Ln=ht=!1,e}function qn(){var e,n,t;do for(;0<nt.length;)for(e=nt,nt=[],t=e.length,n=0;n<t;++n){var r=e[n];r[0].apply(null,r[1])}while(0<nt.length);Ln=ht=!0}function er(){var e=xn;xn=[],e.forEach(function(r){r._PSD.onunhandled.call(null,r._value,r)});for(var n=mt.slice(0),t=n.length;t;)n[--t]()}function yt(e){return new $(kn,!1,e)}function Pe(e,n){var t=G;return function(){var r=$n(),i=G;try{return yn(t,!0),e.apply(this,arguments)}catch(l){n&&n(l)}finally{yn(i,!1),r&&qn()}}}I($.prototype,{then:Jt,_then:function(e,n){Zt(this,new Hr(null,null,e,n,G))},catch:function(e){if(arguments.length===1)return this.then(null,e);var n=e,t=arguments[1];return typeof n=="function"?this.then(null,function(r){return(r instanceof n?t:yt)(r)}):this.then(null,function(r){return(r&&r.name===n?t:yt)(r)})},finally:function(e){return this.then(function(n){return $.resolve(e()).then(function(){return n})},function(n){return $.resolve(e()).then(function(){return yt(n)})})},timeout:function(e,n){var t=this;return e<1/0?new $(function(r,i){var l=setTimeout(function(){return i(new U.Timeout(n))},e);t.then(r,i).finally(clearTimeout.bind(null,l))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&W($.prototype,Symbol.toStringTag,"Dexie.Promise"),hn.env=Gr(),I($,{all:function(){var e=Me.apply(null,arguments).map(_t);return new $(function(n,t){e.length===0&&n([]);var r=e.length;e.forEach(function(i,l){return $.resolve(i).then(function(s){e[l]=s,--r||n(e)},t)})})},resolve:function(e){return e instanceof $?e:e&&typeof e.then=="function"?new $(function(n,t){e.then(n,t)}):new $(kn,!0,e)},reject:yt,race:function(){var e=Me.apply(null,arguments).map(_t);return new $(function(n,t){e.map(function(r){return $.resolve(r).then(n,t)})})},PSD:{get:function(){return G},set:function(e){return G=e}},totalEchoes:{get:function(){return wt}},newPSD:pn,usePSD:Sn,scheduler:{get:function(){return cn},set:function(e){cn=e}},rejectionMapper:{get:function(){return Xt},set:function(e){Xt=e}},follow:function(e,n){return new $(function(t,r){return pn(function(i,l){var s=G;s.unhandleds=[],s.onunhandled=l,s.finalize=Je(function(){var f,p=this;f=function(){p.unhandleds.length===0?i():l(p.unhandleds[0])},mt.push(function v(){f(),mt.splice(mt.indexOf(v),1)}),++Pn,cn(function(){--Pn==0&&er()},[])},s.finalize),e()},n,t,r)})}}),ln&&(ln.allSettled&&W($,"allSettled",function(){var e=Me.apply(null,arguments).map(_t);return new $(function(n){e.length===0&&n([]);var t=e.length,r=new Array(t);e.forEach(function(i,l){return $.resolve(i).then(function(s){return r[l]={status:"fulfilled",value:s}},function(s){return r[l]={status:"rejected",reason:s}}).then(function(){return--t||n(r)})})})}),ln.any&&typeof AggregateError<"u"&&W($,"any",function(){var e=Me.apply(null,arguments).map(_t);return new $(function(n,t){e.length===0&&t(new AggregateError([]));var r=e.length,i=new Array(r);e.forEach(function(l,s){return $.resolve(l).then(function(f){return n(f)},function(f){i[s]=f,--r||t(new AggregateError(i))})})})}));var Be={awaits:0,echoes:0,id:0},Io=0,gt=[],bt=0,wt=0,Ao=0;function pn(e,n,t,r){var i=G,l=Object.create(i);return l.parent=i,l.ref=0,l.global=!1,l.id=++Ao,hn.env,l.env=et?{Promise:$,PromiseProp:{value:$,configurable:!0,writable:!0},all:$.all,race:$.race,allSettled:$.allSettled,any:$.any,resolve:$.resolve,reject:$.reject}:{},n&&D(l,n),++i.ref,l.finalize=function(){--this.parent.ref||this.parent.finalize()},r=Sn(l,e,t,r),l.ref===0&&l.finalize(),r}function Vn(){return Be.id||(Be.id=++Io),++Be.awaits,Be.echoes+=vt,Be.id}function mn(){return!!Be.awaits&&(--Be.awaits==0&&(Be.id=0),Be.echoes=Be.awaits*vt,!0)}function _t(e){return Be.echoes&&e&&e.constructor===ln?(Vn(),e.then(function(n){return mn(),n},function(n){return mn(),Ee(n)})):e}function Bo(){var e=gt[gt.length-1];gt.pop(),yn(e,!1)}function yn(e,n){var t,r=G;(n?!Be.echoes||bt++&&e===G:!bt||--bt&&e===G)||queueMicrotask(n?(function(i){++wt,Be.echoes&&--Be.echoes!=0||(Be.echoes=Be.awaits=Be.id=0),gt.push(G),yn(i,!0)}).bind(null,e):Bo),e!==G&&(G=e,r===hn&&(hn.env=Gr()),et&&(t=hn.env.Promise,n=e.env,(r.global||e.global)&&(Object.defineProperty(k,"Promise",n.PromiseProp),t.all=n.all,t.race=n.race,t.resolve=n.resolve,t.reject=n.reject,n.allSettled&&(t.allSettled=n.allSettled),n.any&&(t.any=n.any))))}function Gr(){var e=k.Promise;return et?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(k,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject}:{}}function Sn(e,n,t,r,i){var l=G;try{return yn(e,!0),n(t,r,i)}finally{yn(l,!1)}}function Yr(e,n,t,r){return typeof e!="function"?e:function(){var i=G;t&&Vn(),yn(n,!0);try{return e.apply(this,arguments)}finally{yn(i,!1),r&&queueMicrotask(mn)}}}function nr(e){Promise===ln&&Be.echoes===0?bt===0?e():enqueueNativeMicroTask(e):setTimeout(e,0)}(""+He).indexOf("[native code]")===-1&&(Vn=mn=he);var Ee=$.reject,En=String.fromCharCode(65535),sn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Xr="String expected.",zn=[],Ot="__dbnames",tr="readonly",rr="readwrite";function jn(e,n){return e?n?function(){return e.apply(this,arguments)&&n.apply(this,arguments)}:e:n}var Jr={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ct(e){return typeof e!="string"||/\./.test(e)?function(n){return n}:function(n){return n[e]===void 0&&e in n&&delete(n=Ie(n))[e],n}}function Qr(){throw U.Type()}function me(e,n){try{var t=Zr(e),r=Zr(n);if(t!==r)return t==="Array"?1:r==="Array"?-1:t==="binary"?1:r==="binary"?-1:t==="string"?1:r==="string"?-1:t==="Date"?1:r!=="Date"?NaN:-1;switch(t){case"number":case"Date":case"string":return n<e?1:e<n?-1:0;case"binary":return function(i,l){for(var s=i.length,f=l.length,p=s<f?s:f,v=0;v<p;++v)if(i[v]!==l[v])return i[v]<l[v]?-1:1;return s===f?0:s<f?-1:1}(ea(e),ea(n));case"Array":return function(i,l){for(var s=i.length,f=l.length,p=s<f?s:f,v=0;v<p;++v){var b=me(i[v],l[v]);if(b!==0)return b}return s===f?0:s<f?-1:1}(e,n)}}catch{}return NaN}function Zr(e){var n=typeof e;return n!="object"?n:ArrayBuffer.isView(e)?"binary":(e=We(e),e==="ArrayBuffer"?"binary":e)}function ea(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var na=(xe.prototype._trans=function(e,n,t){var r=this._tx||G.trans,i=this.name,l=Oe&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(e==="readonly"?"read":"write"," ").concat(this.name));function s(v,b,d){if(!d.schema[i])throw new U.NotFound("Table "+i+" not part of transaction");return n(d.idbtrans,d)}var f=$n();try{var p=r&&r.db._novip===this.db._novip?r===G.trans?r._promise(e,s,t):pn(function(){return r._promise(e,s,t)},{trans:r,transless:G.transless||G}):function v(b,d,w,h){if(b.idbdb&&(b._state.openComplete||G.letThrough||b._vip)){var g=b._createTransaction(d,w,b._dbSchema);try{g.create(),b._state.PR1398_maxLoop=3}catch(_){return _.name===ce.InvalidState&&b.isOpen()&&0<--b._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),b.close({disableAutoOpen:!1}),b.open().then(function(){return v(b,d,w,h)})):Ee(_)}return g._promise(d,function(_,y){return pn(function(){return G.trans=g,h(_,y,g)})}).then(function(_){if(d==="readwrite")try{g.idbtrans.commit()}catch{}return d==="readonly"?_:g._completion.then(function(){return _})})}if(b._state.openComplete)return Ee(new U.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return Ee(new U.DatabaseClosed);b.open().catch(he)}return b._state.dbReadyPromise.then(function(){return v(b,d,w,h)})}(this.db,e,[this.name],s);return l&&(p._consoleTask=l,p=p.catch(function(v){return console.trace(v),Ee(v)})),p}finally{f&&qn()}},xe.prototype.get=function(e,n){var t=this;return e&&e.constructor===Object?this.where(e).first(n):e==null?Ee(new U.Type("Invalid argument to Table.get()")):this._trans("readonly",function(r){return t.core.get({trans:r,key:e}).then(function(i){return t.hook.reading.fire(i)})}).then(n)},xe.prototype.where=function(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(S(e))return new this.db.WhereClause(this,"[".concat(e.join("+"),"]"));var n=P(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);var t=this.schema.indexes.concat(this.schema.primKey).filter(function(p){if(p.compound&&n.every(function(b){return 0<=p.keyPath.indexOf(b)})){for(var v=0;v<n.length;++v)if(n.indexOf(p.keyPath[v])===-1)return!1;return!0}return!1}).sort(function(p,v){return p.keyPath.length-v.keyPath.length})[0];if(t&&this.db._maxKey!==En){var s=t.keyPath.slice(0,n.length);return this.where(s).equals(s.map(function(v){return e[v]}))}!t&&Oe&&console.warn("The query ".concat(JSON.stringify(e)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(n.join("+"),"]"));var r=this.schema.idxByName,i=this.db._deps.indexedDB;function l(p,v){return i.cmp(p,v)===0}var f=n.reduce(function(w,v){var b=w[0],d=w[1],w=r[v],h=e[v];return[b||w,b||!w?jn(d,w&&w.multi?function(g){return g=be(g,v),S(g)&&g.some(function(_){return l(h,_)})}:function(g){return l(h,be(g,v))}):d]},[null,null]),s=f[0],f=f[1];return s?this.where(s.name).equals(e[s.keyPath]).filter(f):t?this.filter(f):this.where(n).equals("")},xe.prototype.filter=function(e){return this.toCollection().and(e)},xe.prototype.count=function(e){return this.toCollection().count(e)},xe.prototype.offset=function(e){return this.toCollection().offset(e)},xe.prototype.limit=function(e){return this.toCollection().limit(e)},xe.prototype.each=function(e){return this.toCollection().each(e)},xe.prototype.toArray=function(e){return this.toCollection().toArray(e)},xe.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},xe.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,S(e)?"[".concat(e.join("+"),"]"):e))},xe.prototype.reverse=function(){return this.toCollection().reverse()},xe.prototype.mapToClass=function(e){var n,t=this.db,r=this.name;function i(){return n!==null&&n.apply(this,arguments)||this}(this.schema.mappedClass=e).prototype instanceof Qr&&(function(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function b(){this.constructor=p}u(p,v),p.prototype=v===null?Object.create(v):(b.prototype=v.prototype,new b)}(i,n=e),Object.defineProperty(i.prototype,"db",{get:function(){return t},enumerable:!1,configurable:!0}),i.prototype.table=function(){return r},e=i);for(var l=new Set,s=e.prototype;s;s=B(s))Object.getOwnPropertyNames(s).forEach(function(p){return l.add(p)});function f(p){if(!p)return p;var v,b=Object.create(e.prototype);for(v in p)if(!l.has(v))try{b[v]=p[v]}catch{}return b}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=f,this.hook("reading",f),e},xe.prototype.defineClass=function(){return this.mapToClass(function(e){D(this,e)})},xe.prototype.add=function(e,n){var t=this,r=this.schema.primKey,i=r.auto,l=r.keyPath,s=e;return l&&i&&(s=Ct(l)(e)),this._trans("readwrite",function(f){return t.core.mutate({trans:f,type:"add",keys:n!=null?[n]:null,values:[s]})}).then(function(f){return f.numFailures?$.reject(f.failures[0]):f.lastResult}).then(function(f){if(l)try{z(e,l,f)}catch{}return f})},xe.prototype.update=function(e,n){return typeof e!="object"||S(e)?this.where(":id").equals(e).modify(n):(e=be(e,this.schema.primKey.keyPath),e===void 0?Ee(new U.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(e).modify(n))},xe.prototype.put=function(e,n){var t=this,r=this.schema.primKey,i=r.auto,l=r.keyPath,s=e;return l&&i&&(s=Ct(l)(e)),this._trans("readwrite",function(f){return t.core.mutate({trans:f,type:"put",values:[s],keys:n!=null?[n]:null})}).then(function(f){return f.numFailures?$.reject(f.failures[0]):f.lastResult}).then(function(f){if(l)try{z(e,l,f)}catch{}return f})},xe.prototype.delete=function(e){var n=this;return this._trans("readwrite",function(t){return n.core.mutate({trans:t,type:"delete",keys:[e]})}).then(function(t){return t.numFailures?$.reject(t.failures[0]):void 0})},xe.prototype.clear=function(){var e=this;return this._trans("readwrite",function(n){return e.core.mutate({trans:n,type:"deleteRange",range:Jr})}).then(function(n){return n.numFailures?$.reject(n.failures[0]):void 0})},xe.prototype.bulkGet=function(e){var n=this;return this._trans("readonly",function(t){return n.core.getMany({keys:e,trans:t}).then(function(r){return r.map(function(i){return n.hook.reading.fire(i)})})})},xe.prototype.bulkAdd=function(e,n,t){var r=this,i=Array.isArray(n)?n:void 0,l=(t=t||(i?void 0:n))?t.allKeys:void 0;return this._trans("readwrite",function(s){var v=r.schema.primKey,f=v.auto,v=v.keyPath;if(v&&i)throw new U.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length,v=v&&f?e.map(Ct(v)):e;return r.core.mutate({trans:s,type:"add",keys:i,values:v,wantResults:l}).then(function(g){var d=g.numFailures,w=g.results,h=g.lastResult,g=g.failures;if(d===0)return l?w:h;throw new H("".concat(r.name,".bulkAdd(): ").concat(d," of ").concat(p," operations failed"),g)})})},xe.prototype.bulkPut=function(e,n,t){var r=this,i=Array.isArray(n)?n:void 0,l=(t=t||(i?void 0:n))?t.allKeys:void 0;return this._trans("readwrite",function(s){var v=r.schema.primKey,f=v.auto,v=v.keyPath;if(v&&i)throw new U.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(i&&i.length!==e.length)throw new U.InvalidArgument("Arguments objects and keys must have the same length");var p=e.length,v=v&&f?e.map(Ct(v)):e;return r.core.mutate({trans:s,type:"put",keys:i,values:v,wantResults:l}).then(function(g){var d=g.numFailures,w=g.results,h=g.lastResult,g=g.failures;if(d===0)return l?w:h;throw new H("".concat(r.name,".bulkPut(): ").concat(d," of ").concat(p," operations failed"),g)})})},xe.prototype.bulkUpdate=function(e){var n=this,t=this.core,r=e.map(function(s){return s.key}),i=e.map(function(s){return s.changes}),l=[];return this._trans("readwrite",function(s){return t.getMany({trans:s,keys:r,cache:"clone"}).then(function(f){var p=[],v=[];e.forEach(function(d,w){var h=d.key,g=d.changes,_=f[w];if(_){for(var y=0,O=Object.keys(g);y<O.length;y++){var C=O[y],x=g[C];if(C===n.schema.primKey.keyPath){if(me(x,h)!==0)throw new U.Constraint("Cannot update primary key in bulkUpdate()")}else z(_,C,x)}l.push(w),p.push(h),v.push(_)}});var b=p.length;return t.mutate({trans:s,type:"put",keys:p,values:v,updates:{keys:r,changeSpecs:i}}).then(function(d){var w=d.numFailures,h=d.failures;if(w===0)return b;for(var g=0,_=Object.keys(h);g<_.length;g++){var y,O=_[g],C=l[Number(O)];C!=null&&(y=h[O],delete h[O],h[C]=y)}throw new H("".concat(n.name,".bulkUpdate(): ").concat(w," of ").concat(b," operations failed"),h)})})})},xe.prototype.bulkDelete=function(e){var n=this,t=e.length;return this._trans("readwrite",function(r){return n.core.mutate({trans:r,type:"delete",keys:e})}).then(function(s){var i=s.numFailures,l=s.lastResult,s=s.failures;if(i===0)return l;throw new H("".concat(n.name,".bulkDelete(): ").concat(i," of ").concat(t," operations failed"),s)})},xe);function xe(){}function tt(e){function n(s,f){if(f){for(var p=arguments.length,v=new Array(p-1);--p;)v[p-1]=arguments[p];return t[s].subscribe.apply(null,v),e}if(typeof s=="string")return t[s]}var t={};n.addEventType=l;for(var r=1,i=arguments.length;r<i;++r)l(arguments[r]);return n;function l(s,f,p){if(typeof s!="object"){var v;f=f||J;var b={subscribers:[],fire:p=p||he,subscribe:function(d){b.subscribers.indexOf(d)===-1&&(b.subscribers.push(d),b.fire=f(b.fire,d))},unsubscribe:function(d){b.subscribers=b.subscribers.filter(function(w){return w!==d}),b.fire=b.subscribers.reduce(f,p)}};return t[s]=n[s]=b}P(v=s).forEach(function(d){var w=v[d];if(S(w))l(d,v[d][0],v[d][1]);else{if(w!=="asap")throw new U.InvalidArgument("Invalid event config");var h=l(d,nn,function(){for(var g=arguments.length,_=new Array(g);g--;)_[g]=arguments[g];h.subscribers.forEach(function(y){Te(function(){y.apply(null,_)})})})}})}}function rt(e,n){return q(n).from({prototype:e}),n}function Wn(e,n){return!(e.filter||e.algorithm||e.or)&&(n?e.justLimit:!e.replayFilter)}function ar(e,n){e.filter=jn(e.filter,n)}function or(e,n,t){var r=e.replayFilter;e.replayFilter=r?function(){return jn(r(),n())}:n,e.justLimit=t&&!r}function kt(e,n){if(e.isPrimKey)return n.primaryKey;var t=n.getIndexByKeyPath(e.index);if(!t)throw new U.Schema("KeyPath "+e.index+" on object store "+n.name+" is not indexed");return t}function ta(e,n,t){var r=kt(e,n.schema);return n.openCursor({trans:t,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:r,range:e.range}})}function xt(e,n,t,r){var i=e.replayFilter?jn(e.filter,e.replayFilter()):e.filter;if(e.or){var l={},s=function(f,p,v){var b,d;i&&!i(p,v,function(w){return p.stop(w)},function(w){return p.fail(w)})||((d=""+(b=p.primaryKey))=="[object ArrayBuffer]"&&(d=""+new Uint8Array(b)),T(l,d)||(l[d]=!0,n(f,p,v)))};return Promise.all([e.or._iterate(s,t),ra(ta(e,r,t),e.algorithm,s,!e.keysOnly&&e.valueMapper)])}return ra(ta(e,r,t),jn(e.algorithm,i),n,!e.keysOnly&&e.valueMapper)}function ra(e,n,t,r){var i=Pe(r?function(l,s,f){return t(r(l),s,f)}:t);return e.then(function(l){if(l)return l.start(function(){var s=function(){return l.continue()};n&&!n(l,function(f){return s=f},function(f){l.stop(f),s=he},function(f){l.fail(f),s=he})||i(l.value,l,function(f){return s=f}),s()})})}var fn=Symbol(),at=(aa.prototype.execute=function(e){if(this.add!==void 0){var n=this.add;if(S(n))return m(m([],S(e)?e:[],!0),n,!0).sort();if(typeof n=="number")return(Number(e)||0)+n;if(typeof n=="bigint")try{return BigInt(e)+n}catch{return BigInt(0)+n}throw new TypeError("Invalid term ".concat(n))}if(this.remove!==void 0){var t=this.remove;if(S(t))return S(e)?e.filter(function(r){return!t.includes(r)}).sort():[];if(typeof t=="number")return Number(e)-t;if(typeof t=="bigint")try{return BigInt(e)-t}catch{return BigInt(0)-t}throw new TypeError("Invalid subtrahend ".concat(t))}return n=(n=this.replacePrefix)===null||n===void 0?void 0:n[0],n&&typeof e=="string"&&e.startsWith(n)?this.replacePrefix[1]+e.substring(n.length):e},aa);function aa(e){Object.assign(this,e)}var Do=(ge.prototype._read=function(e,n){var t=this._ctx;return t.error?t.table._trans(null,Ee.bind(null,t.error)):t.table._trans("readonly",e).then(n)},ge.prototype._write=function(e){var n=this._ctx;return n.error?n.table._trans(null,Ee.bind(null,n.error)):n.table._trans("readwrite",e,"locked")},ge.prototype._addAlgorithm=function(e){var n=this._ctx;n.algorithm=jn(n.algorithm,e)},ge.prototype._iterate=function(e,n){return xt(this._ctx,e,n,this._ctx.table.core)},ge.prototype.clone=function(e){var n=Object.create(this.constructor.prototype),t=Object.create(this._ctx);return e&&D(t,e),n._ctx=t,n},ge.prototype.raw=function(){return this._ctx.valueMapper=null,this},ge.prototype.each=function(e){var n=this._ctx;return this._read(function(t){return xt(n,e,t,n.table.core)})},ge.prototype.count=function(e){var n=this;return this._read(function(t){var r=n._ctx,i=r.table.core;if(Wn(r,!0))return i.count({trans:t,query:{index:kt(r,i.schema),range:r.range}}).then(function(s){return Math.min(s,r.limit)});var l=0;return xt(r,function(){return++l,!1},t,i).then(function(){return l})}).then(e)},ge.prototype.sortBy=function(e,n){var t=e.split(".").reverse(),r=t[0],i=t.length-1;function l(p,v){return v?l(p[t[v]],v-1):p[r]}var s=this._ctx.dir==="next"?1:-1;function f(p,v){return p=l(p,i),v=l(v,i),p<v?-s:v<p?s:0}return this.toArray(function(p){return p.sort(f)}).then(n)},ge.prototype.toArray=function(e){var n=this;return this._read(function(t){var r=n._ctx;if(r.dir==="next"&&Wn(r,!0)&&0<r.limit){var i=r.valueMapper,l=kt(r,r.table.core.schema);return r.table.core.query({trans:t,limit:r.limit,values:!0,query:{index:l,range:r.range}}).then(function(f){return f=f.result,i?f.map(i):f})}var s=[];return xt(r,function(f){return s.push(f)},t,r.table.core).then(function(){return s})},e)},ge.prototype.offset=function(e){var n=this._ctx;return e<=0||(n.offset+=e,Wn(n)?or(n,function(){var t=e;return function(r,i){return t===0||(t===1?--t:i(function(){r.advance(t),t=0}),!1)}}):or(n,function(){var t=e;return function(){return--t<0}})),this},ge.prototype.limit=function(e){return this._ctx.limit=Math.min(this._ctx.limit,e),or(this._ctx,function(){var n=e;return function(t,r,i){return--n<=0&&r(i),0<=n}},!0),this},ge.prototype.until=function(e,n){return ar(this._ctx,function(t,r,i){return!e(t.value)||(r(i),n)}),this},ge.prototype.first=function(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)},ge.prototype.last=function(e){return this.reverse().first(e)},ge.prototype.filter=function(e){var n;return ar(this._ctx,function(t){return e(t.value)}),(n=this._ctx).isMatch=jn(n.isMatch,e),this},ge.prototype.and=function(e){return this.filter(e)},ge.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)},ge.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},ge.prototype.desc=function(){return this.reverse()},ge.prototype.eachKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(t,r){e(r.key,r)})},ge.prototype.eachUniqueKey=function(e){return this._ctx.unique="unique",this.eachKey(e)},ge.prototype.eachPrimaryKey=function(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(t,r){e(r.primaryKey,r)})},ge.prototype.keys=function(e){var n=this._ctx;n.keysOnly=!n.isMatch;var t=[];return this.each(function(r,i){t.push(i.key)}).then(function(){return t}).then(e)},ge.prototype.primaryKeys=function(e){var n=this._ctx;if(n.dir==="next"&&Wn(n,!0)&&0<n.limit)return this._read(function(r){var i=kt(n,n.table.core.schema);return n.table.core.query({trans:r,values:!1,limit:n.limit,query:{index:i,range:n.range}})}).then(function(r){return r.result}).then(e);n.keysOnly=!n.isMatch;var t=[];return this.each(function(r,i){t.push(i.primaryKey)}).then(function(){return t}).then(e)},ge.prototype.uniqueKeys=function(e){return this._ctx.unique="unique",this.keys(e)},ge.prototype.firstKey=function(e){return this.limit(1).keys(function(n){return n[0]}).then(e)},ge.prototype.lastKey=function(e){return this.reverse().firstKey(e)},ge.prototype.distinct=function(){var e=this._ctx,e=e.index&&e.table.schema.idxByName[e.index];if(!e||!e.multi)return this;var n={};return ar(this._ctx,function(i){var r=i.primaryKey.toString(),i=T(n,r);return n[r]=!0,!i}),this},ge.prototype.modify=function(e){var n=this,t=this._ctx;return this._write(function(r){var i,l,s;s=typeof e=="function"?e:(i=P(e),l=i.length,function(y){for(var O=!1,C=0;C<l;++C){var x=i[C],j=e[x],N=be(y,x);j instanceof at?(z(y,x,j.execute(N)),O=!0):N!==j&&(z(y,x,j),O=!0)}return O});function f(y,x){var C=x.failures,x=x.numFailures;g+=y-x;for(var j=0,N=P(C);j<N.length;j++){var R=N[j];h.push(C[R])}}var p=t.table.core,v=p.schema.primaryKey,b=v.outbound,d=v.extractKey,w=n.db._options.modifyChunkSize||200,h=[],g=0,_=[];return n.clone().primaryKeys().then(function(y){function O(x){var j=Math.min(w,y.length-x);return p.getMany({trans:r,keys:y.slice(x,x+j),cache:"immutable"}).then(function(N){for(var R=[],F=[],K=b?[]:null,L=[],M=0;M<j;++M){var te=N[M],re={value:Ie(te),primKey:y[x+M]};s.call(re,re.value,re)!==!1&&(re.value==null?L.push(y[x+M]):b||me(d(te),d(re.value))===0?(F.push(re.value),b&&K.push(y[x+M])):(L.push(y[x+M]),R.push(re.value)))}return Promise.resolve(0<R.length&&p.mutate({trans:r,type:"add",values:R}).then(function(le){for(var ie in le.failures)L.splice(parseInt(ie),1);f(R.length,le)})).then(function(){return(0<F.length||C&&typeof e=="object")&&p.mutate({trans:r,type:"put",keys:K,values:F,criteria:C,changeSpec:typeof e!="function"&&e,isAdditionalChunk:0<x}).then(function(le){return f(F.length,le)})}).then(function(){return(0<L.length||C&&e===ir)&&p.mutate({trans:r,type:"delete",keys:L,criteria:C,isAdditionalChunk:0<x}).then(function(le){return f(L.length,le)})}).then(function(){return y.length>x+j&&O(x+w)})})}var C=Wn(t)&&t.limit===1/0&&(typeof e!="function"||e===ir)&&{index:t.index,range:t.range};return O(0).then(function(){if(0<h.length)throw new Y("Error modifying one or more objects",h,g,_);return y.length})})})},ge.prototype.delete=function(){var e=this._ctx,n=e.range;return Wn(e)&&(e.isPrimKey||n.type===3)?this._write(function(t){var r=e.table.core.schema.primaryKey,i=n;return e.table.core.count({trans:t,query:{index:r,range:i}}).then(function(l){return e.table.core.mutate({trans:t,type:"deleteRange",range:i}).then(function(s){var f=s.failures;if(s.lastResult,s.results,s=s.numFailures,s)throw new Y("Could not delete some values",Object.keys(f).map(function(p){return f[p]}),l-s);return l-s})})}):this.modify(ir)},ge);function ge(){}var ir=function(e,n){return n.value=null};function To(e,n){return e<n?-1:e===n?0:1}function Mo(e,n){return n<e?-1:e===n?0:1}function ze(e,n,t){return e=e instanceof ia?new e.Collection(e):e,e._ctx.error=new(t||TypeError)(n),e}function Hn(e){return new e.Collection(e,function(){return oa("")}).limit(0)}function Pt(e,n,t,r){var i,l,s,f,p,v,b,d=t.length;if(!t.every(function(g){return typeof g=="string"}))return ze(e,Xr);function w(g){i=g==="next"?function(y){return y.toUpperCase()}:function(y){return y.toLowerCase()},l=g==="next"?function(y){return y.toLowerCase()}:function(y){return y.toUpperCase()},s=g==="next"?To:Mo;var _=t.map(function(y){return{lower:l(y),upper:i(y)}}).sort(function(y,O){return s(y.lower,O.lower)});f=_.map(function(y){return y.upper}),p=_.map(function(y){return y.lower}),b=(v=g)==="next"?"":r}w("next"),e=new e.Collection(e,function(){return gn(f[0],p[d-1]+r)}),e._ondirectionchange=function(g){w(g)};var h=0;return e._addAlgorithm(function(g,_,y){var O=g.key;if(typeof O!="string")return!1;var C=l(O);if(n(C,p,h))return!0;for(var x=null,j=h;j<d;++j){var N=function(R,F,K,L,M,te){for(var re=Math.min(R.length,L.length),le=-1,ie=0;ie<re;++ie){var Qe=F[ie];if(Qe!==L[ie])return M(R[ie],K[ie])<0?R.substr(0,ie)+K[ie]+K.substr(ie+1):M(R[ie],L[ie])<0?R.substr(0,ie)+L[ie]+K.substr(ie+1):0<=le?R.substr(0,le)+F[le]+K.substr(le+1):null;M(R[ie],Qe)<0&&(le=ie)}return re<L.length&&te==="next"?R+K.substr(R.length):re<R.length&&te==="prev"?R.substr(0,K.length):le<0?null:R.substr(0,le)+L[le]+K.substr(le+1)}(O,C,f[j],p[j],s,v);N===null&&x===null?h=j+1:(x===null||0<s(x,N))&&(x=N)}return _(x!==null?function(){g.continue(x+b)}:y),!1}),e}function gn(e,n,t,r){return{type:2,lower:e,upper:n,lowerOpen:t,upperOpen:r}}function oa(e){return{type:1,lower:e,upper:e}}var ia=(Object.defineProperty(De.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),De.prototype.between=function(e,n,t,r){t=t!==!1,r=r===!0;try{return 0<this._cmp(e,n)||this._cmp(e,n)===0&&(t||r)&&(!t||!r)?Hn(this):new this.Collection(this,function(){return gn(e,n,!t,!r)})}catch{return ze(this,sn)}},De.prototype.equals=function(e){return e==null?ze(this,sn):new this.Collection(this,function(){return oa(e)})},De.prototype.above=function(e){return e==null?ze(this,sn):new this.Collection(this,function(){return gn(e,void 0,!0)})},De.prototype.aboveOrEqual=function(e){return e==null?ze(this,sn):new this.Collection(this,function(){return gn(e,void 0,!1)})},De.prototype.below=function(e){return e==null?ze(this,sn):new this.Collection(this,function(){return gn(void 0,e,!1,!0)})},De.prototype.belowOrEqual=function(e){return e==null?ze(this,sn):new this.Collection(this,function(){return gn(void 0,e)})},De.prototype.startsWith=function(e){return typeof e!="string"?ze(this,Xr):this.between(e,e+En,!0,!0)},De.prototype.startsWithIgnoreCase=function(e){return e===""?this.startsWith(e):Pt(this,function(n,t){return n.indexOf(t[0])===0},[e],En)},De.prototype.equalsIgnoreCase=function(e){return Pt(this,function(n,t){return n===t[0]},[e],"")},De.prototype.anyOfIgnoreCase=function(){var e=Me.apply(ke,arguments);return e.length===0?Hn(this):Pt(this,function(n,t){return t.indexOf(n)!==-1},e,"")},De.prototype.startsWithAnyOfIgnoreCase=function(){var e=Me.apply(ke,arguments);return e.length===0?Hn(this):Pt(this,function(n,t){return t.some(function(r){return n.indexOf(r)===0})},e,En)},De.prototype.anyOf=function(){var e=this,n=Me.apply(ke,arguments),t=this._cmp;try{n.sort(t)}catch{return ze(this,sn)}if(n.length===0)return Hn(this);var r=new this.Collection(this,function(){return gn(n[0],n[n.length-1])});r._ondirectionchange=function(l){t=l==="next"?e._ascending:e._descending,n.sort(t)};var i=0;return r._addAlgorithm(function(l,s,f){for(var p=l.key;0<t(p,n[i]);)if(++i===n.length)return s(f),!1;return t(p,n[i])===0||(s(function(){l.continue(n[i])}),!1)}),r},De.prototype.notEqual=function(e){return this.inAnyRange([[-1/0,e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},De.prototype.noneOf=function(){var e=Me.apply(ke,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return ze(this,sn)}var n=e.reduce(function(t,r){return t?t.concat([[t[t.length-1][1],r]]):[[-1/0,r]]},null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})},De.prototype.inAnyRange=function(O,n){var t=this,r=this._cmp,i=this._ascending,l=this._descending,s=this._min,f=this._max;if(O.length===0)return Hn(this);if(!O.every(function(C){return C[0]!==void 0&&C[1]!==void 0&&i(C[0],C[1])<=0}))return ze(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",U.InvalidArgument);var p=!n||n.includeLowers!==!1,v=n&&n.includeUppers===!0,b,d=i;function w(C,x){return d(C[0],x[0])}try{(b=O.reduce(function(C,x){for(var j=0,N=C.length;j<N;++j){var R=C[j];if(r(x[0],R[1])<0&&0<r(x[1],R[0])){R[0]=s(R[0],x[0]),R[1]=f(R[1],x[1]);break}}return j===N&&C.push(x),C},[])).sort(w)}catch{return ze(this,sn)}var h=0,g=v?function(C){return 0<i(C,b[h][1])}:function(C){return 0<=i(C,b[h][1])},_=p?function(C){return 0<l(C,b[h][0])}:function(C){return 0<=l(C,b[h][0])},y=g,O=new this.Collection(this,function(){return gn(b[0][0],b[b.length-1][1],!p,!v)});return O._ondirectionchange=function(C){d=C==="next"?(y=g,i):(y=_,l),b.sort(w)},O._addAlgorithm(function(C,x,j){for(var N,R=C.key;y(R);)if(++h===b.length)return x(j),!1;return!g(N=R)&&!_(N)||(t._cmp(R,b[h][1])===0||t._cmp(R,b[h][0])===0||x(function(){d===i?C.continue(b[h][0]):C.continue(b[h][1])}),!1)}),O},De.prototype.startsWithAnyOf=function(){var e=Me.apply(ke,arguments);return e.every(function(n){return typeof n=="string"})?e.length===0?Hn(this):this.inAnyRange(e.map(function(n){return[n,n+En]})):ze(this,"startsWithAnyOf() only works with strings")},De);function De(){}function tn(e){return Pe(function(n){return ot(n),e(n.target.error),!1})}function ot(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var it="storagemutated",ur="x-storagemutated-1",bn=tt(null,it),No=(rn.prototype._lock=function(){return ve(!G.global),++this._reculock,this._reculock!==1||G.global||(G.lockOwnerFor=this),this},rn.prototype._unlock=function(){if(ve(!G.global),--this._reculock==0)for(G.global||(G.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var e=this._blockedFuncs.shift();try{Sn(e[1],e[0])}catch{}}return this},rn.prototype._locked=function(){return this._reculock&&G.lockOwnerFor!==this},rn.prototype.create=function(e){var n=this;if(!this.mode)return this;var t=this.db.idbdb,r=this.db._state.dbOpenError;if(ve(!this.idbtrans),!e&&!t)switch(r&&r.name){case"DatabaseClosedError":throw new U.DatabaseClosed(r);case"MissingAPIError":throw new U.MissingAPI(r.message,r);default:throw new U.OpenFailed(r)}if(!this.active)throw new U.TransactionInactive;return ve(this._completion._state===null),(e=this.idbtrans=e||(this.db.core||t).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pe(function(i){ot(i),n._reject(e.error)}),e.onabort=Pe(function(i){ot(i),n.active&&n._reject(new U.Abort(e.error)),n.active=!1,n.on("abort").fire(i)}),e.oncomplete=Pe(function(){n.active=!1,n._resolve(),"mutatedParts"in e&&bn.storagemutated.fire(e.mutatedParts)}),this},rn.prototype._promise=function(e,n,t){var r=this;if(e==="readwrite"&&this.mode!=="readwrite")return Ee(new U.ReadOnly("Transaction is readonly"));if(!this.active)return Ee(new U.TransactionInactive);if(this._locked())return new $(function(l,s){r._blockedFuncs.push([function(){r._promise(e,n,t).then(l,s)},G])});if(t)return pn(function(){var l=new $(function(s,f){r._lock();var p=n(s,f,r);p&&p.then&&p.then(s,f)});return l.finally(function(){return r._unlock()}),l._lib=!0,l});var i=new $(function(l,s){var f=n(l,s,r);f&&f.then&&f.then(l,s)});return i._lib=!0,i},rn.prototype._root=function(){return this.parent?this.parent._root():this},rn.prototype.waitFor=function(e){var n,t=this._root(),r=$.resolve(e);t._waitingFor?t._waitingFor=t._waitingFor.then(function(){return r}):(t._waitingFor=r,t._waitingQueue=[],n=t.idbtrans.objectStore(t.storeNames[0]),function l(){for(++t._spinCount;t._waitingQueue.length;)t._waitingQueue.shift()();t._waitingFor&&(n.get(-1/0).onsuccess=l)}());var i=t._waitingFor;return new $(function(l,s){r.then(function(f){return t._waitingQueue.push(Pe(l.bind(null,f)))},function(f){return t._waitingQueue.push(Pe(s.bind(null,f)))}).finally(function(){t._waitingFor===i&&(t._waitingFor=null)})})},rn.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new U.Abort))},rn.prototype.table=function(e){var n=this._memoizedTables||(this._memoizedTables={});if(T(n,e))return n[e];var t=this.schema[e];if(!t)throw new U.NotFound("Table "+e+" not part of transaction");return t=new this.db.Table(e,t,this),t.core=this.db.core.table(e),n[e]=t},rn);function rn(){}function lr(e,n,t,r,i,l,s){return{name:e,keyPath:n,unique:t,multi:r,auto:i,compound:l,src:(t&&!s?"&":"")+(r?"*":"")+(i?"++":"")+ua(n)}}function ua(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function cr(e,n,t){return{name:e,primKey:n,indexes:t,mappedClass:null,idxByName:(r=function(i){return[i.name,i]},t.reduce(function(i,l,s){return s=r(l,s),s&&(i[s[0]]=s[1]),i},{}))};var r}var ut=function(e){try{return e.only([[]]),ut=function(){return[[]]},[[]]}catch{return ut=function(){return En},En}};function sr(e){return e==null?function(){}:typeof e=="string"?(n=e).split(".").length===1?function(t){return t[n]}:function(t){return be(t,n)}:function(t){return be(t,e)};var n}function la(e){return[].slice.call(e)}var Fo=0;function lt(e){return e==null?":id":typeof e=="string"?e:"[".concat(e.join("+"),"]")}function Ko(e,n,p){function r(y){if(y.type===3)return null;if(y.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var h=y.lower,g=y.upper,_=y.lowerOpen,y=y.upperOpen;return h===void 0?g===void 0?null:n.upperBound(g,!!y):g===void 0?n.lowerBound(h,!!_):n.bound(h,g,!!_,!!y)}function i(w){var h,g=w.name;return{name:g,schema:w,mutate:function(_){var y=_.trans,O=_.type,C=_.keys,x=_.values,j=_.range;return new Promise(function(N,R){N=Pe(N);var F=y.objectStore(g),K=F.keyPath==null,L=O==="put"||O==="add";if(!L&&O!=="delete"&&O!=="deleteRange")throw new Error("Invalid operation type: "+O);var M,te=(C||x||{length:1}).length;if(C&&x&&C.length!==x.length)throw new Error("Given keys array must have same length as given values array.");if(te===0)return N({numFailures:0,failures:{},results:[],lastResult:void 0});function re(Le){++Qe,ot(Le)}var le=[],ie=[],Qe=0;if(O==="deleteRange"){if(j.type===4)return N({numFailures:Qe,failures:ie,results:[],lastResult:void 0});j.type===3?le.push(M=F.clear()):le.push(M=F.delete(r(j)))}else{var K=L?K?[x,C]:[x,null]:[C,null],ue=K[0],Fe=K[1];if(L)for(var Ke=0;Ke<te;++Ke)le.push(M=Fe&&Fe[Ke]!==void 0?F[O](ue[Ke],Fe[Ke]):F[O](ue[Ke])),M.onerror=re;else for(Ke=0;Ke<te;++Ke)le.push(M=F[O](ue[Ke])),M.onerror=re}function Rt(Le){Le=Le.target.result,le.forEach(function(Bn,Er){return Bn.error!=null&&(ie[Er]=Bn.error)}),N({numFailures:Qe,failures:ie,results:O==="delete"?C:le.map(function(Bn){return Bn.result}),lastResult:Le})}M.onerror=function(Le){re(Le),Rt(Le)},M.onsuccess=Rt})},getMany:function(_){var y=_.trans,O=_.keys;return new Promise(function(C,x){C=Pe(C);for(var j,N=y.objectStore(g),R=O.length,F=new Array(R),K=0,L=0,M=function(le){le=le.target,F[le._pos]=le.result,++L===K&&C(F)},te=tn(x),re=0;re<R;++re)O[re]!=null&&((j=N.get(O[re]))._pos=re,j.onsuccess=M,j.onerror=te,++K);K===0&&C(F)})},get:function(_){var y=_.trans,O=_.key;return new Promise(function(C,x){C=Pe(C);var j=y.objectStore(g).get(O);j.onsuccess=function(N){return C(N.target.result)},j.onerror=tn(x)})},query:(h=v,function(_){return new Promise(function(y,O){y=Pe(y);var C,x,j,K=_.trans,N=_.values,R=_.limit,M=_.query,F=R===1/0?void 0:R,L=M.index,M=M.range,K=K.objectStore(g),L=L.isPrimaryKey?K:K.index(L.name),M=r(M);if(R===0)return y({result:[]});h?((F=N?L.getAll(M,F):L.getAllKeys(M,F)).onsuccess=function(te){return y({result:te.target.result})},F.onerror=tn(O)):(C=0,x=!N&&"openKeyCursor"in L?L.openKeyCursor(M):L.openCursor(M),j=[],x.onsuccess=function(te){var re=x.result;return re?(j.push(N?re.value:re.primaryKey),++C===R?y({result:j}):void re.continue()):y({result:j})},x.onerror=tn(O))})}),openCursor:function(_){var y=_.trans,O=_.values,C=_.query,x=_.reverse,j=_.unique;return new Promise(function(N,R){N=Pe(N);var L=C.index,F=C.range,K=y.objectStore(g),K=L.isPrimaryKey?K:K.index(L.name),L=x?j?"prevunique":"prev":j?"nextunique":"next",M=!O&&"openKeyCursor"in K?K.openKeyCursor(r(F),L):K.openCursor(r(F),L);M.onerror=tn(R),M.onsuccess=Pe(function(te){var re,le,ie,Qe,ue=M.result;ue?(ue.___id=++Fo,ue.done=!1,re=ue.continue.bind(ue),le=(le=ue.continuePrimaryKey)&&le.bind(ue),ie=ue.advance.bind(ue),Qe=function(){throw new Error("Cursor not stopped")},ue.trans=y,ue.stop=ue.continue=ue.continuePrimaryKey=ue.advance=function(){throw new Error("Cursor not started")},ue.fail=Pe(R),ue.next=function(){var Fe=this,Ke=1;return this.start(function(){return Ke--?Fe.continue():Fe.stop()}).then(function(){return Fe})},ue.start=function(Fe){function Ke(){if(M.result)try{Fe()}catch(Le){ue.fail(Le)}else ue.done=!0,ue.start=function(){throw new Error("Cursor behind last entry")},ue.stop()}var Rt=new Promise(function(Le,Bn){Le=Pe(Le),M.onerror=tn(Bn),ue.fail=Bn,ue.stop=function(Er){ue.stop=ue.continue=ue.continuePrimaryKey=ue.advance=Qe,Le(Er)}});return M.onsuccess=Pe(function(Le){M.onsuccess=Ke,Ke()}),ue.continue=re,ue.continuePrimaryKey=le,ue.advance=ie,Ke(),Rt},N(ue)):N(null)},R)})},count:function(_){var y=_.query,O=_.trans,C=y.index,x=y.range;return new Promise(function(j,N){var R=O.objectStore(g),F=C.isPrimaryKey?R:R.index(C.name),R=r(x),F=R?F.count(R):F.count();F.onsuccess=Pe(function(K){return j(K.target.result)}),F.onerror=tn(N)})}}}var l,s,f,b=(s=p,f=la((l=e).objectStoreNames),{schema:{name:l.name,tables:f.map(function(w){return s.objectStore(w)}).map(function(w){var h=w.keyPath,y=w.autoIncrement,g=S(h),_={},y={name:w.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:h==null,compound:g,keyPath:h,autoIncrement:y,unique:!0,extractKey:sr(h)},indexes:la(w.indexNames).map(function(O){return w.index(O)}).map(function(j){var C=j.name,x=j.unique,N=j.multiEntry,j=j.keyPath,N={name:C,compound:S(j),keyPath:j,unique:x,multiEntry:N,extractKey:sr(j)};return _[lt(j)]=N}),getIndexByKeyPath:function(O){return _[lt(O)]}};return _[":id"]=y.primaryKey,h!=null&&(_[lt(h)]=y.primaryKey),y})},hasGetAll:0<f.length&&"getAll"in s.objectStore(f[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),p=b.schema,v=b.hasGetAll,b=p.tables.map(i),d={};return b.forEach(function(w){return d[w.name]=w}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(w){if(!d[w])throw new Error("Table '".concat(w,"' not found"));return d[w]},MIN_KEY:-1/0,MAX_KEY:ut(n),schema:p}}function Ro(e,n,t,r){var i=t.IDBKeyRange;return t.indexedDB,{dbcore:(r=Ko(n,i,r),e.dbcore.reduce(function(l,s){return s=s.create,c(c({},l),s(l))},r))}}function St(e,r){var t=r.db,r=Ro(e._middlewares,t,e._deps,r);e.core=r.dbcore,e.tables.forEach(function(i){var l=i.name;e.core.schema.tables.some(function(s){return s.name===l})&&(i.core=e.core.table(l),e[l]instanceof e.Table&&(e[l].core=i.core))})}function Et(e,n,t,r){t.forEach(function(i){var l=r[i];n.forEach(function(s){var f=function p(v,b){return ee(v,b)||(v=B(v))&&p(v,b)}(s,i);(!f||"value"in f&&f.value===void 0)&&(s===e.Transaction.prototype||s instanceof e.Transaction?W(s,i,{get:function(){return this.table(i)},set:function(p){A(this,i,{value:p,writable:!0,configurable:!0,enumerable:!0})}}):s[i]=new e.Table(i,l))})})}function fr(e,n){n.forEach(function(t){for(var r in t)t[r]instanceof e.Table&&delete t[r]})}function Lo(e,n){return e._cfg.version-n._cfg.version}function $o(e,n,t,r){var i=e._dbSchema;t.objectStoreNames.contains("$meta")&&!i.$meta&&(i.$meta=cr("$meta",sa("")[0],[]),e._storeNames.push("$meta"));var l=e._createTransaction("readwrite",e._storeNames,i);l.create(t),l._completion.catch(r);var s=l._reject.bind(l),f=G.transless||G;pn(function(){return G.trans=l,G.transless=f,n!==0?(St(e,t),v=n,((p=l).storeNames.includes("$meta")?p.table("$meta").get("version").then(function(b){return b??v}):$.resolve(v)).then(function(b){return w=b,h=l,g=t,_=[],b=(d=e)._versions,y=d._dbSchema=It(0,d.idbdb,g),(b=b.filter(function(O){return O._cfg.version>=w})).length!==0?(b.forEach(function(O){_.push(function(){var C=y,x=O._cfg.dbschema;At(d,C,g),At(d,x,g),y=d._dbSchema=x;var j=dr(C,x);j.add.forEach(function(L){vr(g,L[0],L[1].primKey,L[1].indexes)}),j.change.forEach(function(L){if(L.recreate)throw new U.Upgrade("Not yet support for changing primary key");var M=g.objectStore(L.name);L.add.forEach(function(te){return jt(M,te)}),L.change.forEach(function(te){M.deleteIndex(te.name),jt(M,te)}),L.del.forEach(function(te){return M.deleteIndex(te)})});var N=O._cfg.contentUpgrade;if(N&&O._cfg.version>w){St(d,g),h._memoizedTables={};var R=X(x);j.del.forEach(function(L){R[L]=C[L]}),fr(d,[d.Transaction.prototype]),Et(d,[d.Transaction.prototype],P(R),R),h.schema=R;var F,K=en(N);return K&&Vn(),j=$.follow(function(){var L;(F=N(h))&&K&&(L=mn.bind(null,null),F.then(L,L))}),F&&typeof F.then=="function"?$.resolve(F):j.then(function(){return F})}}),_.push(function(C){var x,j,N=O._cfg.dbschema;x=N,j=C,[].slice.call(j.db.objectStoreNames).forEach(function(R){return x[R]==null&&j.db.deleteObjectStore(R)}),fr(d,[d.Transaction.prototype]),Et(d,[d.Transaction.prototype],d._storeNames,d._dbSchema),h.schema=d._dbSchema}),_.push(function(C){d.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(d.idbdb.version/10)===O._cfg.version?(d.idbdb.deleteObjectStore("$meta"),delete d._dbSchema.$meta,d._storeNames=d._storeNames.filter(function(x){return x!=="$meta"})):C.objectStore("$meta").put(O._cfg.version,"version"))})}),function O(){return _.length?$.resolve(_.shift()(h.idbtrans)).then(O):$.resolve()}().then(function(){ca(y,g)})):$.resolve();var d,w,h,g,_,y}).catch(s)):(P(i).forEach(function(b){vr(t,b,i[b].primKey,i[b].indexes)}),St(e,t),void $.follow(function(){return e.on.populate.fire(l)}).catch(s));var p,v})}function qo(e,n){ca(e._dbSchema,n),n.db.version%10!=0||n.objectStoreNames.contains("$meta")||n.db.createObjectStore("$meta").add(Math.ceil(n.db.version/10-1),"version");var t=It(0,e.idbdb,n);At(e,e._dbSchema,n);for(var r=0,i=dr(t,e._dbSchema).change;r<i.length;r++){var l=function(s){if(s.change.length||s.recreate)return console.warn("Unable to patch indexes of table ".concat(s.name," because it has changes on the type of index or primary key.")),{value:void 0};var f=n.objectStore(s.name);s.add.forEach(function(p){Oe&&console.debug("Dexie upgrade patch: Creating missing index ".concat(s.name,".").concat(p.src)),jt(f,p)})}(i[r]);if(typeof l=="object")return l.value}}function dr(e,n){var t,r={del:[],add:[],change:[]};for(t in e)n[t]||r.del.push(t);for(t in n){var i=e[t],l=n[t];if(i){var s={name:t,def:l,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(l.primKey.keyPath||"")||i.primKey.auto!==l.primKey.auto)s.recreate=!0,r.change.push(s);else{var f=i.idxByName,p=l.idxByName,v=void 0;for(v in f)p[v]||s.del.push(v);for(v in p){var b=f[v],d=p[v];b?b.src!==d.src&&s.change.push(d):s.add.push(d)}(0<s.del.length||0<s.add.length||0<s.change.length)&&r.change.push(s)}}else r.add.push([t,l])}return r}function vr(e,n,t,r){var i=e.db.createObjectStore(n,t.keyPath?{keyPath:t.keyPath,autoIncrement:t.auto}:{autoIncrement:t.auto});return r.forEach(function(l){return jt(i,l)}),i}function ca(e,n){P(e).forEach(function(t){n.db.objectStoreNames.contains(t)||(Oe&&console.debug("Dexie: Creating missing table",t),vr(n,t,e[t].primKey,e[t].indexes))})}function jt(e,n){e.createIndex(n.name,n.keyPath,{unique:n.unique,multiEntry:n.multi})}function It(e,n,t){var r={};return ae(n.objectStoreNames,0).forEach(function(i){for(var l=t.objectStore(i),s=lr(ua(v=l.keyPath),v||"",!0,!1,!!l.autoIncrement,v&&typeof v!="string",!0),f=[],p=0;p<l.indexNames.length;++p){var b=l.index(l.indexNames[p]),v=b.keyPath,b=lr(b.name,v,!!b.unique,!!b.multiEntry,!1,v&&typeof v!="string",!1);f.push(b)}r[i]=cr(i,s,f)}),r}function At(e,n,t){for(var r=t.db.objectStoreNames,i=0;i<r.length;++i){var l=r[i],s=t.objectStore(l);e._hasGetAll="getAll"in s;for(var f=0;f<s.indexNames.length;++f){var p=s.indexNames[f],v=s.index(p).keyPath,b=typeof v=="string"?v:"["+ae(v).join("+")+"]";!n[l]||(v=n[l].idxByName[b])&&(v.name=p,delete n[l].idxByName[b],n[l].idxByName[p]=v)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&k.WorkerGlobalScope&&k instanceof k.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(e._hasGetAll=!1)}function sa(e){return e.split(",").map(function(n,t){var r=(n=n.trim()).replace(/([&*]|\+\+)/g,""),i=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return lr(r,i||null,/\&/.test(n),/\*/.test(n),/\+\+/.test(n),S(i),t===0)})}var Vo=(Bt.prototype._parseStoresSpec=function(e,n){P(e).forEach(function(t){if(e[t]!==null){var r=sa(e[t]),i=r.shift();if(i.unique=!0,i.multi)throw new U.Schema("Primary key cannot be multi-valued");r.forEach(function(l){if(l.auto)throw new U.Schema("Only primary key can be marked as autoIncrement (++)");if(!l.keyPath)throw new U.Schema("Index must have a name and cannot be an empty string")}),n[t]=cr(t,i,r)}})},Bt.prototype.stores=function(t){var n=this.db;this._cfg.storesSource=this._cfg.storesSource?D(this._cfg.storesSource,t):t;var t=n._versions,r={},i={};return t.forEach(function(l){D(r,l._cfg.storesSource),i=l._cfg.dbschema={},l._parseStoresSpec(r,i)}),n._dbSchema=i,fr(n,[n._allTables,n,n.Transaction.prototype]),Et(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],P(i),i),n._storeNames=P(i),this},Bt.prototype.upgrade=function(e){return this._cfg.contentUpgrade=se(this._cfg.contentUpgrade||he,e),this},Bt);function Bt(){}function hr(e,n){var t=e._dbNamesDB;return t||(t=e._dbNamesDB=new dn(Ot,{addons:[],indexedDB:e,IDBKeyRange:n})).version(1).stores({dbnames:"name"}),t.table("dbnames")}function pr(e){return e&&typeof e.databases=="function"}function mr(e){return pn(function(){return G.letThrough=!0,e()})}function yr(e){return!("from"in e)}var Re=function(e,n){if(!this){var t=new Re;return e&&"d"in e&&D(t,e),t}D(this,arguments.length?{d:1,from:e,to:1<arguments.length?n:e}:{d:0})};function ct(e,n,t){var r=me(n,t);if(!isNaN(r)){if(0<r)throw RangeError();if(yr(e))return D(e,{from:n,to:t,d:1});var i=e.l,r=e.r;if(me(t,e.from)<0)return i?ct(i,n,t):e.l={from:n,to:t,d:1,l:null,r:null},da(e);if(0<me(n,e.to))return r?ct(r,n,t):e.r={from:n,to:t,d:1,l:null,r:null},da(e);me(n,e.from)<0&&(e.from=n,e.l=null,e.d=r?r.d+1:1),0<me(t,e.to)&&(e.to=t,e.r=null,e.d=e.l?e.l.d+1:1),t=!e.r,i&&!e.l&&st(e,i),r&&t&&st(e,r)}}function st(e,n){yr(n)||function t(r,p){var l=p.from,s=p.to,f=p.l,p=p.r;ct(r,l,s),f&&t(r,f),p&&t(r,p)}(e,n)}function fa(e,n){var t=Dt(n),r=t.next();if(r.done)return!1;for(var i=r.value,l=Dt(e),s=l.next(i.from),f=s.value;!r.done&&!s.done;){if(me(f.from,i.to)<=0&&0<=me(f.to,i.from))return!0;me(i.from,f.from)<0?i=(r=t.next(f.from)).value:f=(s=l.next(i.from)).value}return!1}function Dt(e){var n=yr(e)?null:{s:0,n:e};return{next:function(t){for(var r=0<arguments.length;n;)switch(n.s){case 0:if(n.s=1,r)for(;n.n.l&&me(t,n.n.from)<0;)n={up:n,n:n.n.l,s:1};else for(;n.n.l;)n={up:n,n:n.n.l,s:1};case 1:if(n.s=2,!r||me(t,n.n.to)<=0)return{value:n.n,done:!1};case 2:if(n.n.r){n.s=3,n={up:n,n:n.n.r,s:0};continue}case 3:n=n.up}return{done:!0}}}}function da(e){var n,t,r=(((n=e.r)===null||n===void 0?void 0:n.d)||0)-(((t=e.l)===null||t===void 0?void 0:t.d)||0),i=1<r?"r":r<-1?"l":"";i&&(n=i=="r"?"l":"r",t=c({},e),r=e[i],e.from=r.from,e.to=r.to,e[i]=r[i],t[i]=r[n],(e[n]=t).d=va(t)),e.d=va(e)}function va(t){var n=t.r,t=t.l;return(n?t?Math.max(n.d,t.d):n.d:t?t.d:0)+1}function Tt(e,n){return P(n).forEach(function(t){e[t]?st(e[t],n[t]):e[t]=function r(i){var l,s,f={};for(l in i)T(i,l)&&(s=i[l],f[l]=!s||typeof s!="object"||oe.has(s.constructor)?s:r(s));return f}(n[t])}),e}function gr(e,n){return e.all||n.all||Object.keys(e).some(function(t){return n[t]&&fa(n[t],e[t])})}I(Re.prototype,((He={add:function(e){return st(this,e),this},addKey:function(e){return ct(this,e,e),this},addKeys:function(e){var n=this;return e.forEach(function(t){return ct(n,t,t)}),this},hasKey:function(e){var n=Dt(this).next(e).value;return n&&me(n.from,e)<=0&&0<=me(n.to,e)}})[Ce]=function(){return Dt(this)},He));var In={},br={},wr=!1;function Mt(e){Tt(br,e),wr||(wr=!0,setTimeout(function(){wr=!1,_r(br,!(br={}))},0))}function _r(e,n){n===void 0&&(n=!1);var t=new Set;if(e.all)for(var r=0,i=Object.values(In);r<i.length;r++)ha(s=i[r],e,t,n);else for(var l in e){var s,f=/^idb\:\/\/(.*)\/(.*)\//.exec(l);f&&(l=f[1],f=f[2],(s=In["idb://".concat(l,"/").concat(f)])&&ha(s,e,t,n))}t.forEach(function(p){return p()})}function ha(e,n,t,r){for(var i=[],l=0,s=Object.entries(e.queries.query);l<s.length;l++){for(var f=s[l],p=f[0],v=[],b=0,d=f[1];b<d.length;b++){var w=d[b];gr(n,w.obsSet)?w.subscribers.forEach(function(y){return t.add(y)}):r&&v.push(w)}r&&i.push([p,v])}if(r)for(var h=0,g=i;h<g.length;h++){var _=g[h],p=_[0],v=_[1];e.queries.query[p]=v}}function zo(e){var n=e._state,t=e._deps.indexedDB;if(n.isBeingOpened||e.idbdb)return n.dbReadyPromise.then(function(){return n.dbOpenError?Ee(n.dbOpenError):e});n.isBeingOpened=!0,n.dbOpenError=null,n.openComplete=!1;var r=n.openCanceller,i=Math.round(10*e.verno),l=!1;function s(){if(n.openCanceller!==r)throw new U.DatabaseClosed("db.open() was cancelled")}function f(){return new $(function(w,h){if(s(),!t)throw new U.MissingAPI;var g=e.name,_=n.autoSchema||!i?t.open(g):t.open(g,i);if(!_)throw new U.MissingAPI;_.onerror=tn(h),_.onblocked=Pe(e._fireOnBlocked),_.onupgradeneeded=Pe(function(y){var O;b=_.transaction,n.autoSchema&&!e._options.allowEmptyDB?(_.onerror=ot,b.abort(),_.result.close(),(O=t.deleteDatabase(g)).onsuccess=O.onerror=Pe(function(){h(new U.NoSuchDatabase("Database ".concat(g," doesnt exist")))})):(b.onerror=tn(h),y=y.oldVersion>Math.pow(2,62)?0:y.oldVersion,d=y<1,e.idbdb=_.result,l&&qo(e,b),$o(e,y/10,b,h))},h),_.onsuccess=Pe(function(){b=null;var y,O,C,x,j,N=e.idbdb=_.result,R=ae(N.objectStoreNames);if(0<R.length)try{var F=N.transaction((x=R).length===1?x[0]:x,"readonly");if(n.autoSchema)O=N,C=F,(y=e).verno=O.version/10,C=y._dbSchema=It(0,O,C),y._storeNames=ae(O.objectStoreNames,0),Et(y,[y._allTables],P(C),C);else if(At(e,e._dbSchema,F),((j=dr(It(0,(j=e).idbdb,F),j._dbSchema)).add.length||j.change.some(function(K){return K.add.length||K.change.length}))&&!l)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),N.close(),i=N.version+1,l=!0,w(f());St(e,F)}catch{}zn.push(e),N.onversionchange=Pe(function(K){n.vcFired=!0,e.on("versionchange").fire(K)}),N.onclose=Pe(function(K){e.on("close").fire(K)}),d&&(j=e._deps,F=g,N=j.indexedDB,j=j.IDBKeyRange,pr(N)||F===Ot||hr(N,j).put({name:F}).catch(he)),w()},h)}).catch(function(w){switch(w==null?void 0:w.name){case"UnknownError":if(0<n.PR1398_maxLoop)return n.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),f();break;case"VersionError":if(0<i)return i=0,f()}return $.reject(w)})}var p,v=n.dbReadyResolve,b=null,d=!1;return $.race([r,(typeof navigator>"u"?$.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(w){function h(){return indexedDB.databases().finally(w)}p=setInterval(h,100),h()}).finally(function(){return clearInterval(p)}):Promise.resolve()).then(f)]).then(function(){return s(),n.onReadyBeingFired=[],$.resolve(mr(function(){return e.on.ready.fire(e.vip)})).then(function w(){if(0<n.onReadyBeingFired.length){var h=n.onReadyBeingFired.reduce(se,he);return n.onReadyBeingFired=[],$.resolve(mr(function(){return h(e.vip)})).then(w)}})}).finally(function(){n.openCanceller===r&&(n.onReadyBeingFired=null,n.isBeingOpened=!1)}).catch(function(w){n.dbOpenError=w;try{b&&b.abort()}catch{}return r===n.openCanceller&&e._close(),Ee(w)}).finally(function(){n.openComplete=!0,v()}).then(function(){var w;return d&&(w={},e.tables.forEach(function(h){h.schema.indexes.forEach(function(g){g.name&&(w["idb://".concat(e.name,"/").concat(h.name,"/").concat(g.name)]=new Re(-1/0,[[[]]]))}),w["idb://".concat(e.name,"/").concat(h.name,"/")]=w["idb://".concat(e.name,"/").concat(h.name,"/:dels")]=new Re(-1/0,[[[]]])}),bn(it).fire(w),_r(w,!0)),e})}function Or(e){function n(l){return e.next(l)}var t=i(n),r=i(function(l){return e.throw(l)});function i(l){return function(p){var f=l(p),p=f.value;return f.done?p:p&&typeof p.then=="function"?p.then(t,r):S(p)?Promise.all(p).then(t,r):t(p)}}return i(n)()}function Nt(e,n,t){for(var r=S(e)?e.slice():[e],i=0;i<t;++i)r.push(n);return r}var Wo={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(e){return c(c({},e),{table:function(n){var t=e.table(n),r=t.schema,i={},l=[];function s(d,w,h){var g=lt(d),_=i[g]=i[g]||[],y=d==null?0:typeof d=="string"?1:d.length,O=0<w,O=c(c({},h),{name:O?"".concat(g,"(virtual-from:").concat(h.name,")"):h.name,lowLevelIndex:h,isVirtual:O,keyTail:w,keyLength:y,extractKey:sr(d),unique:!O&&h.unique});return _.push(O),O.isPrimaryKey||l.push(O),1<y&&s(y===2?d[0]:d.slice(0,y-1),w+1,h),_.sort(function(C,x){return C.keyTail-x.keyTail}),O}n=s(r.primaryKey.keyPath,0,r.primaryKey),i[":id"]=[n];for(var f=0,p=r.indexes;f<p.length;f++){var v=p[f];s(v.keyPath,0,v)}function b(d){var w,h=d.query.index;return h.isVirtual?c(c({},d),{query:{index:h.lowLevelIndex,range:(w=d.query.range,h=h.keyTail,{type:w.type===1?2:w.type,lower:Nt(w.lower,w.lowerOpen?e.MAX_KEY:e.MIN_KEY,h),lowerOpen:!0,upper:Nt(w.upper,w.upperOpen?e.MIN_KEY:e.MAX_KEY,h),upperOpen:!0})}}):d}return c(c({},t),{schema:c(c({},r),{primaryKey:n,indexes:l,getIndexByKeyPath:function(d){return(d=i[lt(d)])&&d[0]}}),count:function(d){return t.count(b(d))},query:function(d){return t.query(b(d))},openCursor:function(d){var w=d.query.index,h=w.keyTail,g=w.isVirtual,_=w.keyLength;return g?t.openCursor(b(d)).then(function(O){return O&&y(O)}):t.openCursor(d);function y(O){return Object.create(O,{continue:{value:function(C){C!=null?O.continue(Nt(C,d.reverse?e.MAX_KEY:e.MIN_KEY,h)):d.unique?O.continue(O.key.slice(0,_).concat(d.reverse?e.MIN_KEY:e.MAX_KEY,h)):O.continue()}},continuePrimaryKey:{value:function(C,x){O.continuePrimaryKey(Nt(C,e.MAX_KEY,h),x)}},primaryKey:{get:function(){return O.primaryKey}},key:{get:function(){var C=O.key;return _===1?C[0]:C.slice(0,_)}},value:{get:function(){return O.value}}})}}})}})}};function Cr(e,n,t,r){return t=t||{},r=r||"",P(e).forEach(function(i){var l,s,f;T(n,i)?(l=e[i],s=n[i],typeof l=="object"&&typeof s=="object"&&l&&s?(f=We(l))!==We(s)?t[r+i]=n[i]:f==="Object"?Cr(l,s,t,r+i+"."):l!==s&&(t[r+i]=n[i]):l!==s&&(t[r+i]=n[i])):t[r+i]=void 0}),P(n).forEach(function(i){T(e,i)||(t[r+i]=n[i])}),t}function kr(e,n){return n.type==="delete"?n.keys:n.keys||n.values.map(e.extractKey)}var Ho={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return c(c({},e),{table:function(n){var t=e.table(n),r=t.schema.primaryKey;return c(c({},t),{mutate:function(i){var l=G.trans,s=l.table(n).hook,f=s.deleting,p=s.creating,v=s.updating;switch(i.type){case"add":if(p.fire===he)break;return l._promise("readwrite",function(){return b(i)},!0);case"put":if(p.fire===he&&v.fire===he)break;return l._promise("readwrite",function(){return b(i)},!0);case"delete":if(f.fire===he)break;return l._promise("readwrite",function(){return b(i)},!0);case"deleteRange":if(f.fire===he)break;return l._promise("readwrite",function(){return function d(w,h,g){return t.query({trans:w,values:!1,query:{index:r,range:h},limit:g}).then(function(_){var y=_.result;return b({type:"delete",keys:y,trans:w}).then(function(O){return 0<O.numFailures?Promise.reject(O.failures[0]):y.length<g?{failures:[],numFailures:0,lastResult:void 0}:d(w,c(c({},h),{lower:y[y.length-1],lowerOpen:!0}),g)})})}(i.trans,i.range,1e4)},!0)}return t.mutate(i);function b(d){var w,h,g,_=G.trans,y=d.keys||kr(r,d);if(!y)throw new Error("Keys missing");return(d=d.type==="add"||d.type==="put"?c(c({},d),{keys:y}):c({},d)).type!=="delete"&&(d.values=m([],d.values,!0)),d.keys&&(d.keys=m([],d.keys,!0)),w=t,g=y,((h=d).type==="add"?Promise.resolve([]):w.getMany({trans:h.trans,keys:g,cache:"immutable"})).then(function(O){var C=y.map(function(x,j){var N,R,F,K=O[j],L={onerror:null,onsuccess:null};return d.type==="delete"?f.fire.call(L,x,K,_):d.type==="add"||K===void 0?(N=p.fire.call(L,x,d.values[j],_),x==null&&N!=null&&(d.keys[j]=x=N,r.outbound||z(d.values[j],r.keyPath,x))):(N=Cr(K,d.values[j]),(R=v.fire.call(L,N,x,K,_))&&(F=d.values[j],Object.keys(R).forEach(function(M){T(F,M)?F[M]=R[M]:z(F,M,R[M])}))),L});return t.mutate(d).then(function(x){for(var j=x.failures,N=x.results,R=x.numFailures,x=x.lastResult,F=0;F<y.length;++F){var K=(N||y)[F],L=C[F];K==null?L.onerror&&L.onerror(j[F]):L.onsuccess&&L.onsuccess(d.type==="put"&&O[F]?d.values[F]:K)}return{failures:j,results:N,numFailures:R,lastResult:x}}).catch(function(x){return C.forEach(function(j){return j.onerror&&j.onerror(x)}),Promise.reject(x)})})}}})}})}};function pa(e,n,t){try{if(!n||n.keys.length<e.length)return null;for(var r=[],i=0,l=0;i<n.keys.length&&l<e.length;++i)me(n.keys[i],e[l])===0&&(r.push(t?Ie(n.values[i]):n.values[i]),++l);return r.length===e.length?r:null}catch{return null}}var Uo={stack:"dbcore",level:-1,create:function(e){return{table:function(n){var t=e.table(n);return c(c({},t),{getMany:function(r){if(!r.cache)return t.getMany(r);var i=pa(r.keys,r.trans._cache,r.cache==="clone");return i?$.resolve(i):t.getMany(r).then(function(l){return r.trans._cache={keys:r.keys,values:r.cache==="clone"?Ie(l):l},l})},mutate:function(r){return r.type!=="add"&&(r.trans._cache=null),t.mutate(r)}})}}}};function ma(e,n){return e.trans.mode==="readonly"&&!!e.subscr&&!e.trans.explicit&&e.trans.db._options.cache!=="disabled"&&!n.schema.primaryKey.outbound}function ya(e,n){switch(e){case"query":return n.values&&!n.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Go={stack:"dbcore",level:0,name:"Observability",create:function(e){var n=e.schema.name,t=new Re(e.MIN_KEY,e.MAX_KEY);return c(c({},e),{transaction:function(r,i,l){if(G.subscr&&i!=="readonly")throw new U.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(G.querier));return e.transaction(r,i,l)},table:function(r){var i=e.table(r),l=i.schema,s=l.primaryKey,d=l.indexes,f=s.extractKey,p=s.outbound,v=s.autoIncrement&&d.filter(function(h){return h.compound&&h.keyPath.includes(s.keyPath)}),b=c(c({},i),{mutate:function(h){function g(M){return M="idb://".concat(n,"/").concat(r,"/").concat(M),x[M]||(x[M]=new Re)}var _,y,O,C=h.trans,x=h.mutatedParts||(h.mutatedParts={}),j=g(""),N=g(":dels"),R=h.type,L=h.type==="deleteRange"?[h.range]:h.type==="delete"?[h.keys]:h.values.length<50?[kr(s,h).filter(function(M){return M}),h.values]:[],F=L[0],K=L[1],L=h.trans._cache;return S(F)?(j.addKeys(F),(L=R==="delete"||F.length===K.length?pa(F,L):null)||N.addKeys(F),(L||K)&&(_=g,y=L,O=K,l.indexes.forEach(function(M){var te=_(M.name||"");function re(ie){return ie!=null?M.extractKey(ie):null}function le(ie){return M.multiEntry&&S(ie)?ie.forEach(function(Qe){return te.addKey(Qe)}):te.addKey(ie)}(y||O).forEach(function(ie,Fe){var ue=y&&re(y[Fe]),Fe=O&&re(O[Fe]);me(ue,Fe)!==0&&(ue!=null&&le(ue),Fe!=null&&le(Fe))})}))):F?(K={from:F.lower,to:F.upper},N.add(K),j.add(K)):(j.add(t),N.add(t),l.indexes.forEach(function(M){return g(M.name).add(t)})),i.mutate(h).then(function(M){return!F||h.type!=="add"&&h.type!=="put"||(j.addKeys(M.results),v&&v.forEach(function(te){var re=h.values.map(function(ie){return te.extractKey(ie)}),le=te.keyPath.findIndex(function(ie){return ie===s.keyPath});M.results.forEach(function(ie){return re[le]=ie}),g(te.name).addKeys(re)})),C.mutatedParts=Tt(C.mutatedParts||{},x),M})}}),d=function(g){var _=g.query,g=_.index,_=_.range;return[g,new Re((g=_.lower)!==null&&g!==void 0?g:e.MIN_KEY,(_=_.upper)!==null&&_!==void 0?_:e.MAX_KEY)]},w={get:function(h){return[s,new Re(h.key)]},getMany:function(h){return[s,new Re().addKeys(h.keys)]},count:d,query:d,openCursor:d};return P(w).forEach(function(h){b[h]=function(g){var _=G.subscr,y=!!_,O=ma(G,i)&&ya(h,g)?g.obsSet={}:_;if(y){var C=function(K){return K="idb://".concat(n,"/").concat(r,"/").concat(K),O[K]||(O[K]=new Re)},x=C(""),j=C(":dels"),_=w[h](g),y=_[0],_=_[1];if((h==="query"&&y.isPrimaryKey&&!g.values?j:C(y.name||"")).add(_),!y.isPrimaryKey){if(h!=="count"){var N=h==="query"&&p&&g.values&&i.query(c(c({},g),{values:!1}));return i[h].apply(this,arguments).then(function(K){if(h==="query"){if(p&&g.values)return N.then(function(re){return re=re.result,x.addKeys(re),K});var L=g.values?K.result.map(f):K.result;(g.values?x:j).addKeys(L)}else if(h==="openCursor"){var M=K,te=g.values;return M&&Object.create(M,{key:{get:function(){return j.addKey(M.primaryKey),M.key}},primaryKey:{get:function(){var re=M.primaryKey;return j.addKey(re),re}},value:{get:function(){return te&&x.addKey(M.primaryKey),M.value}}})}return K})}j.add(t)}}return i[h].apply(this,arguments)}}),b}})}};function ga(e,n,t){if(t.numFailures===0)return n;if(n.type==="deleteRange")return null;var r=n.keys?n.keys.length:"values"in n&&n.values?n.values.length:1;return t.numFailures===r?null:(n=c({},n),S(n.keys)&&(n.keys=n.keys.filter(function(i,l){return!(l in t.failures)})),"values"in n&&S(n.values)&&(n.values=n.values.filter(function(i,l){return!(l in t.failures)})),n)}function xr(e,n){return t=e,((r=n).lower===void 0||(r.lowerOpen?0<me(t,r.lower):0<=me(t,r.lower)))&&(e=e,(n=n).upper===void 0||(n.upperOpen?me(e,n.upper)<0:me(e,n.upper)<=0));var t,r}function ba(e,n,w,r,i,l){if(!w||w.length===0)return e;var s=n.query.index,f=s.multiEntry,p=n.query.range,v=r.schema.primaryKey.extractKey,b=s.extractKey,d=(s.lowLevelIndex||s).extractKey,w=w.reduce(function(h,g){var _=h,y=[];if(g.type==="add"||g.type==="put")for(var O=new Re,C=g.values.length-1;0<=C;--C){var x,j=g.values[C],N=v(j);O.hasKey(N)||(x=b(j),(f&&S(x)?x.some(function(L){return xr(L,p)}):xr(x,p))&&(O.addKey(N),y.push(j)))}switch(g.type){case"add":_=h.concat(n.values?y:y.map(function(M){return v(M)}));break;case"put":var R=new Re().addKeys(g.values.map(function(M){return v(M)})),_=h.filter(function(M){return!R.hasKey(n.values?v(M):M)}).concat(n.values?y:y.map(function(M){return v(M)}));break;case"delete":var F=new Re().addKeys(g.keys);_=h.filter(function(M){return!F.hasKey(n.values?v(M):M)});break;case"deleteRange":var K=g.range;_=h.filter(function(M){return!xr(v(M),K)})}return _},e);return w===e?e:(w.sort(function(h,g){return me(d(h),d(g))||me(v(h),v(g))}),n.limit&&n.limit<1/0&&(w.length>n.limit?w.length=n.limit:e.length===n.limit&&w.length<n.limit&&(i.dirty=!0)),l?Object.freeze(w):w)}function wa(e,n){return me(e.lower,n.lower)===0&&me(e.upper,n.upper)===0&&!!e.lowerOpen==!!n.lowerOpen&&!!e.upperOpen==!!n.upperOpen}function Yo(e,n){return function(t,r,i,l){if(t===void 0)return r!==void 0?-1:0;if(r===void 0)return 1;if((r=me(t,r))===0){if(i&&l)return 0;if(i)return 1;if(l)return-1}return r}(e.lower,n.lower,e.lowerOpen,n.lowerOpen)<=0&&0<=function(t,r,i,l){if(t===void 0)return r!==void 0?1:0;if(r===void 0)return-1;if((r=me(t,r))===0){if(i&&l)return 0;if(i)return-1;if(l)return 1}return r}(e.upper,n.upper,e.upperOpen,n.upperOpen)}function Xo(e,n,t,r){e.subscribers.add(t),r.addEventListener("abort",function(){var i,l;e.subscribers.delete(t),e.subscribers.size===0&&(i=e,l=n,setTimeout(function(){i.subscribers.size===0&&Se(l,i)},3e3))})}var Jo={stack:"dbcore",level:0,name:"Cache",create:function(e){var n=e.schema.name;return c(c({},e),{transaction:function(t,r,i){var l,s,f=e.transaction(t,r,i);return r==="readwrite"&&(s=(l=new AbortController).signal,i=function(p){return function(){if(l.abort(),r==="readwrite"){for(var v=new Set,b=0,d=t;b<d.length;b++){var w=d[b],h=In["idb://".concat(n,"/").concat(w)];if(h){var g=e.table(w),_=h.optimisticOps.filter(function(te){return te.trans===f});if(f._explicit&&p&&f.mutatedParts)for(var y=0,O=Object.values(h.queries.query);y<O.length;y++)for(var C=0,x=(R=O[y]).slice();C<x.length;C++)gr((F=x[C]).obsSet,f.mutatedParts)&&(Se(R,F),F.subscribers.forEach(function(te){return v.add(te)}));else if(0<_.length){h.optimisticOps=h.optimisticOps.filter(function(te){return te.trans!==f});for(var j=0,N=Object.values(h.queries.query);j<N.length;j++)for(var R,F,K,L=0,M=(R=N[j]).slice();L<M.length;L++)(F=M[L]).res!=null&&f.mutatedParts&&(p&&!F.dirty?(K=Object.isFrozen(F.res),K=ba(F.res,F.req,_,g,F,K),F.dirty?(Se(R,F),F.subscribers.forEach(function(te){return v.add(te)})):K!==F.res&&(F.res=K,F.promise=$.resolve({result:K}))):(F.dirty&&Se(R,F),F.subscribers.forEach(function(te){return v.add(te)})))}}}v.forEach(function(te){return te()})}}},f.addEventListener("abort",i(!1),{signal:s}),f.addEventListener("error",i(!1),{signal:s}),f.addEventListener("complete",i(!0),{signal:s})),f},table:function(t){var r=e.table(t),i=r.schema.primaryKey;return c(c({},r),{mutate:function(l){var s=G.trans;if(i.outbound||s.db._options.cache==="disabled"||s.explicit)return r.mutate(l);var f=In["idb://".concat(n,"/").concat(t)];return f?(s=r.mutate(l),l.type!=="add"&&l.type!=="put"||!(50<=l.values.length||kr(i,l).some(function(p){return p==null}))?(f.optimisticOps.push(l),l.mutatedParts&&Mt(l.mutatedParts),s.then(function(p){0<p.numFailures&&(Se(f.optimisticOps,l),(p=ga(0,l,p))&&f.optimisticOps.push(p),l.mutatedParts&&Mt(l.mutatedParts))}),s.catch(function(){Se(f.optimisticOps,l),l.mutatedParts&&Mt(l.mutatedParts)})):s.then(function(p){var v=ga(0,c(c({},l),{values:l.values.map(function(h,d){var w,h=(w=i.keyPath)!==null&&w!==void 0&&w.includes(".")?Ie(h):c({},h);return z(h,i.keyPath,p.results[d]),h})}),p);f.optimisticOps.push(v),queueMicrotask(function(){return l.mutatedParts&&Mt(l.mutatedParts)})}),s):r.mutate(l)},query:function(l){if(!ma(G,r)||!ya("query",l))return r.query(l);var s=((v=G.trans)===null||v===void 0?void 0:v.db._options.cache)==="immutable",d=G,f=d.requery,p=d.signal,v=function(g,_,y,O){var C=In["idb://".concat(g,"/").concat(_)];if(!C)return[];if(!(_=C.queries[y]))return[null,!1,C,null];var x=_[(O.query?O.query.index.name:null)||""];if(!x)return[null,!1,C,null];switch(y){case"query":var j=x.find(function(N){return N.req.limit===O.limit&&N.req.values===O.values&&wa(N.req.query.range,O.query.range)});return j?[j,!0,C,x]:[x.find(function(N){return("limit"in N.req?N.req.limit:1/0)>=O.limit&&(!O.values||N.req.values)&&Yo(N.req.query.range,O.query.range)}),!1,C,x];case"count":return j=x.find(function(N){return wa(N.req.query.range,O.query.range)}),[j,!!j,C,x]}}(n,t,"query",l),b=v[0],d=v[1],w=v[2],h=v[3];return b&&d?b.obsSet=l.obsSet:(d=r.query(l).then(function(g){var _=g.result;if(b&&(b.res=_),s){for(var y=0,O=_.length;y<O;++y)Object.freeze(_[y]);Object.freeze(_)}else g.result=Ie(_);return g}).catch(function(g){return h&&b&&Se(h,b),Promise.reject(g)}),b={obsSet:l.obsSet,promise:d,subscribers:new Set,type:"query",req:l,dirty:!1},h?h.push(b):(h=[b],(w=w||(In["idb://".concat(n,"/").concat(t)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[l.query.index.name||""]=h)),Xo(b,h,f,p),b.promise.then(function(g){return{result:ba(g.result,l,w==null?void 0:w.optimisticOps,r,b,s)}})}})}})}};function Ft(e,n){return new Proxy(e,{get:function(t,r,i){return r==="db"?n:Reflect.get(t,r,i)}})}var dn=(je.prototype.version=function(e){if(isNaN(e)||e<.1)throw new U.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new U.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);var n=this._versions,t=n.filter(function(r){return r._cfg.version===e})[0];return t||(t=new this.Version(e),n.push(t),n.sort(Lo),t.stores({}),this._state.autoSchema=!1,t)},je.prototype._whenReady=function(e){var n=this;return this.idbdb&&(this._state.openComplete||G.letThrough||this._vip)?e():new $(function(t,r){if(n._state.openComplete)return r(new U.DatabaseClosed(n._state.dbOpenError));if(!n._state.isBeingOpened){if(!n._state.autoOpen)return void r(new U.DatabaseClosed);n.open().catch(he)}n._state.dbReadyPromise.then(t,r)}).then(e)},je.prototype.use=function(e){var n=e.stack,t=e.create,r=e.level,i=e.name;return i&&this.unuse({stack:n,name:i}),e=this._middlewares[n]||(this._middlewares[n]=[]),e.push({stack:n,create:t,level:r??10,name:i}),e.sort(function(l,s){return l.level-s.level}),this},je.prototype.unuse=function(e){var n=e.stack,t=e.name,r=e.create;return n&&this._middlewares[n]&&(this._middlewares[n]=this._middlewares[n].filter(function(i){return r?i.create!==r:!!t&&i.name!==t})),this},je.prototype.open=function(){var e=this;return Sn(hn,function(){return zo(e)})},je.prototype._close=function(){var e=this._state,n=zn.indexOf(this);if(0<=n&&zn.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}e.isBeingOpened||(e.dbReadyPromise=new $(function(t){e.dbReadyResolve=t}),e.openCanceller=new $(function(t,r){e.cancelOpen=r}))},je.prototype.close=function(t){var n=(t===void 0?{disableAutoOpen:!0}:t).disableAutoOpen,t=this._state;n?(t.isBeingOpened&&t.cancelOpen(new U.DatabaseClosed),this._close(),t.autoOpen=!1,t.dbOpenError=new U.DatabaseClosed):(this._close(),t.autoOpen=this._options.autoOpen||t.isBeingOpened,t.openComplete=!1,t.dbOpenError=null)},je.prototype.delete=function(e){var n=this;e===void 0&&(e={disableAutoOpen:!0});var t=0<arguments.length&&typeof arguments[0]!="object",r=this._state;return new $(function(i,l){function s(){n.close(e);var f=n._deps.indexedDB.deleteDatabase(n.name);f.onsuccess=Pe(function(){var p,v,b;p=n._deps,v=n.name,b=p.indexedDB,p=p.IDBKeyRange,pr(b)||v===Ot||hr(b,p).delete(v).catch(he),i()}),f.onerror=tn(l),f.onblocked=n._fireOnBlocked}if(t)throw new U.InvalidArgument("Invalid closeOptions argument to db.delete()");r.isBeingOpened?r.dbReadyPromise.then(s):s()})},je.prototype.backendDB=function(){return this.idbdb},je.prototype.isOpen=function(){return this.idbdb!==null},je.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"},je.prototype.hasFailed=function(){return this._state.dbOpenError!==null},je.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(je.prototype,"tables",{get:function(){var e=this;return P(this._allTables).map(function(n){return e._allTables[n]})},enumerable:!1,configurable:!0}),je.prototype.transaction=function(){var e=(function(n,t,r){var i=arguments.length;if(i<2)throw new U.InvalidArgument("Too few arguments");for(var l=new Array(i-1);--i;)l[i-1]=arguments[i];return r=l.pop(),[n,de(l),r]}).apply(this,arguments);return this._transaction.apply(this,e)},je.prototype._transaction=function(e,n,t){var r=this,i=G.trans;i&&i.db===this&&e.indexOf("!")===-1||(i=null);var l,s,f=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");try{if(s=n.map(function(v){if(v=v instanceof r.Table?v.name:v,typeof v!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return v}),e=="r"||e===tr)l=tr;else{if(e!="rw"&&e!=rr)throw new U.InvalidArgument("Invalid transaction mode: "+e);l=rr}if(i){if(i.mode===tr&&l===rr){if(!f)throw new U.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");i=null}i&&s.forEach(function(v){if(i&&i.storeNames.indexOf(v)===-1){if(!f)throw new U.SubTransaction("Table "+v+" not included in parent transaction.");i=null}}),f&&i&&!i.active&&(i=null)}}catch(v){return i?i._promise(null,function(b,d){d(v)}):Ee(v)}var p=(function v(b,d,w,h,g){return $.resolve().then(function(){var _=G.transless||G,y=b._createTransaction(d,w,b._dbSchema,h);if(y.explicit=!0,_={trans:y,transless:_},h)y.idbtrans=h.idbtrans;else try{y.create(),y.idbtrans._explicit=!0,b._state.PR1398_maxLoop=3}catch(x){return x.name===ce.InvalidState&&b.isOpen()&&0<--b._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),b.close({disableAutoOpen:!1}),b.open().then(function(){return v(b,d,w,null,g)})):Ee(x)}var O,C=en(g);return C&&Vn(),_=$.follow(function(){var x;(O=g.call(y,y))&&(C?(x=mn.bind(null,null),O.then(x,x)):typeof O.next=="function"&&typeof O.throw=="function"&&(O=Or(O)))},_),(O&&typeof O.then=="function"?$.resolve(O).then(function(x){return y.active?x:Ee(new U.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):_.then(function(){return O})).then(function(x){return h&&y._resolve(),y._completion.then(function(){return x})}).catch(function(x){return y._reject(x),Ee(x)})})}).bind(null,this,l,s,i,t);return i?i._promise(l,p,"lock"):G.trans?Sn(G.transless,function(){return r._whenReady(p)}):this._whenReady(p)},je.prototype.table=function(e){if(!T(this._allTables,e))throw new U.InvalidTable("Table ".concat(e," does not exist"));return this._allTables[e]},je);function je(e,n){var t=this;this._middlewares={},this.verno=0;var r=je.dependencies;this._options=n=c({addons:je.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,cache:"cloned"},n),this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange},r=n.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var i,l,s,f,p,v={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:he,dbReadyPromise:null,cancelOpen:he,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:n.autoOpen};v.dbReadyPromise=new $(function(d){v.dbReadyResolve=d}),v.openCanceller=new $(function(d,w){v.cancelOpen=w}),this._state=v,this.name=e,this.on=tt(this,"populate","blocked","versionchange","close",{ready:[se,he]}),this.on.ready.subscribe=_e(this.on.ready.subscribe,function(d){return function(w,h){je.vip(function(){var g,_=t._state;_.openComplete?(_.dbOpenError||$.resolve().then(w),h&&d(w)):_.onReadyBeingFired?(_.onReadyBeingFired.push(w),h&&d(w)):(d(w),g=t,h||d(function y(){g.on.ready.unsubscribe(w),g.on.ready.unsubscribe(y)}))})}}),this.Collection=(i=this,rt(Do.prototype,function(O,y){this.db=i;var h=Jr,g=null;if(y)try{h=y()}catch(C){g=C}var _=O._ctx,y=_.table,O=y.hook.reading.fire;this._ctx={table:y,index:_.index,isPrimKey:!_.index||y.schema.primKey.keyPath&&_.index===y.schema.primKey.name,range:h,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:g,or:_.or,valueMapper:O!==nn?O:null}})),this.Table=(l=this,rt(na.prototype,function(d,w,h){this.db=l,this._tx=h,this.name=d,this.schema=w,this.hook=l._allTables[d]?l._allTables[d].hook:tt(null,{creating:[Rn,he],reading:[on,nn],updating:[pe,he],deleting:[Zn,he]})})),this.Transaction=(s=this,rt(No.prototype,function(d,w,h,g,_){var y=this;this.db=s,this.mode=d,this.storeNames=w,this.schema=h,this.chromeTransactionDurability=g,this.idbtrans=null,this.on=tt(this,"complete","error","abort"),this.parent=_||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $(function(O,C){y._resolve=O,y._reject=C}),this._completion.then(function(){y.active=!1,y.on.complete.fire()},function(O){var C=y.active;return y.active=!1,y.on.error.fire(O),y.parent?y.parent._reject(O):C&&y.idbtrans&&y.idbtrans.abort(),Ee(O)})})),this.Version=(f=this,rt(Vo.prototype,function(d){this.db=f,this._cfg={version:d,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(p=this,rt(ia.prototype,function(d,w,h){if(this.db=p,this._ctx={table:d,index:w===":id"?null:w,or:h},this._cmp=this._ascending=me,this._descending=function(g,_){return me(_,g)},this._max=function(g,_){return 0<me(g,_)?g:_},this._min=function(g,_){return me(g,_)<0?g:_},this._IDBKeyRange=p._deps.IDBKeyRange,!this._IDBKeyRange)throw new U.MissingAPI})),this.on("versionchange",function(d){0<d.newVersion?console.warn("Another connection wants to upgrade database '".concat(t.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(t.name,"'. Closing db now to resume the delete request.")),t.close({disableAutoOpen:!1})}),this.on("blocked",function(d){!d.newVersion||d.newVersion<d.oldVersion?console.warn("Dexie.delete('".concat(t.name,"') was blocked")):console.warn("Upgrade '".concat(t.name,"' blocked by other connection holding version ").concat(d.oldVersion/10))}),this._maxKey=ut(n.IDBKeyRange),this._createTransaction=function(d,w,h,g){return new t.Transaction(d,w,h,t._options.chromeTransactionDurability,g)},this._fireOnBlocked=function(d){t.on("blocked").fire(d),zn.filter(function(w){return w.name===t.name&&w!==t&&!w._state.vcFired}).map(function(w){return w.on("versionchange").fire(d)})},this.use(Uo),this.use(Jo),this.use(Go),this.use(Wo),this.use(Ho);var b=new Proxy(this,{get:function(d,w,h){if(w==="_vip")return!0;if(w==="table")return function(_){return Ft(t.table(_),b)};var g=Reflect.get(d,w,h);return g instanceof na?Ft(g,b):w==="tables"?g.map(function(_){return Ft(_,b)}):w==="_createTransaction"?function(){return Ft(g.apply(this,arguments),b)}:g}});this.vip=b,r.forEach(function(d){return d(t)})}var Kt,He=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Qo=(Pr.prototype.subscribe=function(e,n,t){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:t})},Pr.prototype[He]=function(){return this},Pr);function Pr(e){this._subscribe=e}try{Kt={indexedDB:k.indexedDB||k.mozIndexedDB||k.webkitIndexedDB||k.msIndexedDB,IDBKeyRange:k.IDBKeyRange||k.webkitIDBKeyRange}}catch{Kt={indexedDB:null,IDBKeyRange:null}}function _a(e){var n,t=!1,r=new Qo(function(i){var l=en(e),s,f=!1,p={},v={},b={get closed(){return f},unsubscribe:function(){f||(f=!0,s&&s.abort(),d&&bn.storagemutated.unsubscribe(h))}};i.start&&i.start(b);var d=!1,w=function(){return nr(g)},h=function(_){Tt(p,_),gr(v,p)&&w()},g=function(){var _,y,O;!f&&Kt.indexedDB&&(p={},_={},s&&s.abort(),s=new AbortController,O=function(C){var x=$n();try{l&&Vn();var j=pn(e,C);return j=l?j.finally(mn):j}finally{x&&qn()}}(y={subscr:_,signal:s.signal,requery:w,querier:e,trans:null}),Promise.resolve(O).then(function(C){t=!0,n=C,f||y.signal.aborted||(p={},function(x){for(var j in x)if(T(x,j))return;return 1}(v=_)||d||(bn(it,h),d=!0),nr(function(){return!f&&i.next&&i.next(C)}))},function(C){t=!1,["DatabaseClosedError","AbortError"].includes(C==null?void 0:C.name)||f||nr(function(){f||i.error&&i.error(C)})}))};return setTimeout(w,0),b});return r.hasValue=function(){return t},r.getValue=function(){return n},r}var An=dn;function Sr(e){var n=wn;try{wn=!0,bn.storagemutated.fire(e),_r(e,!0)}finally{wn=n}}I(An,c(c({},an),{delete:function(e){return new An(e,{addons:[]}).delete()},exists:function(e){return new An(e,{addons:[]}).open().then(function(n){return n.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return n=An.dependencies,t=n.indexedDB,n=n.IDBKeyRange,(pr(t)?Promise.resolve(t.databases()).then(function(r){return r.map(function(i){return i.name}).filter(function(i){return i!==Ot})}):hr(t,n).toCollection().primaryKeys()).then(e)}catch{return Ee(new U.MissingAPI)}var n,t},defineClass:function(){return function(e){D(this,e)}},ignoreTransaction:function(e){return G.trans?Sn(G.transless,e):e()},vip:mr,async:function(e){return function(){try{var n=Or(e.apply(this,arguments));return n&&typeof n.then=="function"?n:$.resolve(n)}catch(t){return Ee(t)}}},spawn:function(e,n,t){try{var r=Or(e.apply(t,n||[]));return r&&typeof r.then=="function"?r:$.resolve(r)}catch(i){return Ee(i)}},currentTransaction:{get:function(){return G.trans||null}},waitFor:function(e,n){return n=$.resolve(typeof e=="function"?An.ignoreTransaction(e):e).timeout(n||6e4),G.trans?G.trans.waitFor(n):n},Promise:$,debug:{get:function(){return Oe},set:function(e){vn(e)}},derive:q,extend:D,props:I,override:_e,Events:tt,on:bn,liveQuery:_a,extendObservabilitySet:Tt,getByKeyPath:be,setByKeyPath:z,delByKeyPath:function(e,n){typeof n=="string"?z(e,n,void 0):"length"in n&&[].map.call(n,function(t){z(e,t,void 0)})},shallowClone:X,deepClone:Ie,getObjectDiff:Cr,cmp:me,asap:Te,minKey:-1/0,addons:[],connections:zn,errnames:ce,dependencies:Kt,cache:In,semVer:"4.0.8",version:"4.0.8".split(".").map(function(e){return parseInt(e)}).reduce(function(e,n,t){return e+n/Math.pow(10,2*t)})})),An.maxKey=ut(An.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(bn(it,function(e){wn||(e=new CustomEvent(ur,{detail:e}),wn=!0,dispatchEvent(e),wn=!1)}),addEventListener(ur,function(e){e=e.detail,wn||Sr(e)}));var Un,wn=!1,Oa=function(){};return typeof BroadcastChannel<"u"&&((Oa=function(){(Un=new BroadcastChannel(ur)).onmessage=function(e){return e.data&&Sr(e.data)}})(),typeof Un.unref=="function"&&Un.unref(),bn(it,function(e){wn||Un.postMessage(e)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(e){if(!dn.disableBfCache&&e.persisted){Oe&&console.debug("Dexie: handling persisted pagehide"),Un!=null&&Un.close();for(var n=0,t=zn;n<t.length;n++)t[n].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(e){!dn.disableBfCache&&e.persisted&&(Oe&&console.debug("Dexie: handling persisted pageshow"),Oa(),Sr({all:new Re(-1/0,[[]])}))})),$.rejectionMapper=function(e,n){return!e||e instanceof Ve||e instanceof TypeError||e instanceof SyntaxError||!e.name||!Cn[e.name]?e:(n=new Cn[e.name](n||e.message,e),"stack"in e&&W(n,"stack",{get:function(){return this.inner.stack}}),n)},vn(Oe),c(dn,Object.freeze({__proto__:null,Dexie:dn,liveQuery:_a,Entity:Qr,cmp:me,PropModSymbol:fn,PropModification:at,replacePrefix:function(e,n){return new at({replacePrefix:[e,n]})},add:function(e){return new at({add:e})},remove:function(e){return new at({remove:e})},default:dn,RangeSet:Re,mergeRanges:st,rangesOverlap:fa}),{default:dn}),dn})})(Po);var ml=Po.exports;const Nr=pl(ml),to=Symbol.for("Dexie"),Fr=globalThis[to]||(globalThis[to]=Nr);if(Nr.semVer!==Fr.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Nr.semVer} and ${Fr.semVer}`);const yl=()=>{const o=new Fr("Manage");return o.version(1).stores({card:"++id, credit_card_number ,credit_holder_date,credit_card_code,card_first_name,price,href,type,ip,firstName,lastName,address,address_1,address_2,city,state,countryCode,zip,phone,email,time,userinfo,addressInfo,userAgent,createdAt,updatedAt"}),o},gl=1,bl=10,So={code:0,msg:"success",data:null},zr=(o,a,u,c)=>{const m=JSON.parse(JSON.stringify(So));return m.data=o,a&&u&&c&&(m.data={total:a,page:u,pageSize:c,list:o}),m},Wr=(o,a)=>{const u=JSON.parse(JSON.stringify(So));return u.code=o,u.msg=a,u},Ze=yl().card,Dl=async({page:o=gl,pageSize:a=bl,id:u,credit_card_number:c,createdAt:m,cardBin:k})=>{try{const P=(o-1)*a,S={};u&&(S.id=u),m&&(S.createdAt=m),c&&(S.credit_card_number=c),k&&(S.cardBin=k);let D=0,B=[];return Object.keys(S).length?m?(D=await Ze.where("createdAt").startsWith(m).count(),B=await Ze.where("createdAt").startsWith(m).offset(P).limit(a).toArray()):k?(D=await Ze.where("credit_card_number").startsWith(k).count(),B=await Ze.where("credit_card_number").startsWith(k).offset(P).limit(a).toArray()):(D=await Ze.where(S).count(),B=await Ze.where(S).offset(P).limit(a).toArray()):(D=await Ze.count(),B=await Ze.offset(P).limit(a).toArray()),zr(B,D,o,a)}catch(P){return console.log(P),Wr(-1,"查询错误")}},Tl=async o=>{try{const a=hl({}),u={...o,createdAt:a},c=await Ze.add(u);return zr(c)}catch(a){throw Wr(-1,"添加错误"+a)}},Ml=async o=>{try{return o.length?await Ze.bulkDelete(o):await Ze.delete(o),zr()}catch(a){return Wr(-1,"删除失败"+a)}};export{Ol as A,Il as C,xo as D,Pl as E,Dl as G,_l as I,_o as M,Tl as S,fl as _,Oo as a,Pi as b,xl as c,Ki as d,Ha as e,hl as f,Eu as g,Iu as h,vo as i,Ua as j,Bl as k,Cl as l,Sl as m,kl as n,Gu as o,El as p,jl as q,Al as r,ul as s,ol as t,Hi as u,Ml as v};
